<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Swinger Monkey - So Easy Monkey Can Do It</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üêµ</text></svg>">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --gold: #D4AF37;
      --jade: #00A86B;
      --turquoise: #40E0D0;
      --terracotta: #C84C32;
      --stone-dark: #2C2416;
      --hud-red: #b91c1c;
      --hud-bg: #3a2a1a;
    }

    body {
      font-family: 'Press Start 2P', cursive;
      background: #000;
      height: 100vh;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #game-container {
      width: 100%;
      max-width: 900px;
      height: 100vh;
      max-height: 700px;
      display: flex;
      flex-direction: column;
      background: #000;
      position: relative;
    }

    /* 3D Viewport */
    #viewport {
      flex: 1;
      position: relative;
      overflow: hidden;
      background: linear-gradient(to bottom,
        #0a1a0a 0%,
        #1a3a1a 30%,
        #2a5a2a 60%,
        #3a7a3a 100%
      );
      perspective: 400px;
      perspective-origin: 50% 60%;
    }

    /* Sky/Canopy */
    .canopy {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 45%;
      background:
        radial-gradient(ellipse at 30% 20%, rgba(50,100,50,0.8) 0%, transparent 40%),
        radial-gradient(ellipse at 70% 30%, rgba(40,90,40,0.7) 0%, transparent 35%),
        radial-gradient(ellipse at 50% 10%, rgba(60,110,60,0.9) 0%, transparent 50%),
        radial-gradient(ellipse at 20% 40%, rgba(45,95,45,0.6) 0%, transparent 30%),
        radial-gradient(ellipse at 80% 15%, rgba(55,105,55,0.7) 0%, transparent 35%),
        linear-gradient(to bottom, #0a1a0a, transparent);
      z-index: 10;
    }

    /* Sun rays through canopy */
    .sun-rays {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 60%;
      background:
        linear-gradient(170deg, rgba(255,255,200,0.15) 0%, transparent 30%),
        linear-gradient(190deg, rgba(255,255,180,0.1) 0%, transparent 25%),
        linear-gradient(160deg, rgba(255,255,150,0.08) 0%, transparent 35%);
      z-index: 11;
      pointer-events: none;
    }

    /* 3D Floor (jungle ground rushing towards you) */
    .floor-3d {
      position: absolute;
      bottom: 0;
      left: -50%;
      width: 200%;
      height: 55%;
      background:
        repeating-linear-gradient(
          to bottom,
          #2a4a1a 0px,
          #3a5a2a 20px,
          #2a4a1a 40px
        );
      transform: rotateX(60deg);
      transform-origin: center top;
      z-index: 5;
    }

    .floor-3d.moving {
      animation: floorMove 0.5s linear;
    }

    @keyframes floorMove {
      0% { background-position: 0 0; }
      100% { background-position: 0 100px; }
    }

    /* 3D Walls/Trees on sides */
    .wall-left, .wall-right {
      position: absolute;
      top: 0;
      width: 35%;
      height: 100%;
      z-index: 8;
    }

    .wall-left {
      left: 0;
      background: linear-gradient(to right,
        #1a2a0a 0%,
        #2a4a1a 40%,
        transparent 100%
      );
      transform: perspective(300px) rotateY(20deg);
      transform-origin: left center;
    }

    .wall-right {
      right: 0;
      background: linear-gradient(to left,
        #1a2a0a 0%,
        #2a4a1a 40%,
        transparent 100%
      );
      transform: perspective(300px) rotateY(-20deg);
      transform-origin: right center;
    }

    /* Tree trunks rushing past */
    .tree-trunk {
      position: absolute;
      bottom: 10%;
      width: 30px;
      background: linear-gradient(90deg, #2a1a0a, #5a3a1a, #2a1a0a);
      z-index: 15;
      border-radius: 5px;
    }

    .tree-trunk.left-1 { left: 5%; height: 70%; }
    .tree-trunk.left-2 { left: 15%; height: 55%; }
    .tree-trunk.right-1 { right: 5%; height: 70%; }
    .tree-trunk.right-2 { right: 15%; height: 55%; }

    .tree-trunk.moving {
      animation: treePast 0.5s ease-out;
    }

    @keyframes treePast {
      0% { transform: scale(0.5) translateY(-50px); opacity: 0.5; }
      50% { transform: scale(1.2) translateY(0); opacity: 1; }
      100% { transform: scale(1) translateY(0); opacity: 1; }
    }

    /* Vines hanging down */
    .hanging-vine {
      position: absolute;
      top: 0;
      width: 8px;
      background: linear-gradient(to bottom,
        #2a7a3a,
        #3a9a4a,
        #2a7a3a
      );
      border-radius: 4px;
      z-index: 12;
      transform-origin: top center;
    }

    .hanging-vine::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: -8px;
      width: 24px;
      height: 20px;
      background: #3a9a4a;
      clip-path: polygon(50% 100%, 0 30%, 30% 0, 70% 0, 100% 30%);
    }

    .vine-l1 { left: 10%; height: 35%; animation: vineSwing 3s ease-in-out infinite; }
    .vine-l2 { left: 25%; height: 25%; animation: vineSwing 4s ease-in-out infinite -1s; }
    .vine-r1 { right: 10%; height: 30%; animation: vineSwing 3.5s ease-in-out infinite -0.5s; }
    .vine-r2 { right: 25%; height: 28%; animation: vineSwing 4s ease-in-out infinite -2s; }
    .vine-center { left: 48%; height: 40%; animation: vineSwing 3s ease-in-out infinite; }

    @keyframes vineSwing {
      0%, 100% { transform: rotate(-8deg); }
      50% { transform: rotate(8deg); }
    }

    /* Grabbed vine (when swinging) */
    .grabbed-vine {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 12px;
      height: 50%;
      background: linear-gradient(to bottom, #2a7a3a, #4aaa5a, #2a7a3a);
      border-radius: 6px;
      z-index: 25;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .grabbed-vine.visible {
      opacity: 1;
      animation: grabbedVineSwing 0.6s ease-out;
    }

    @keyframes grabbedVineSwing {
      0% { transform: translateX(-50%) rotate(0); }
      30% { transform: translateX(-50%) rotate(-15deg); }
      60% { transform: translateX(-50%) rotate(10deg); }
      100% { transform: translateX(-50%) rotate(0); }
    }

    /* Center tunnel effect */
    .tunnel {
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      width: 40%;
      height: 50%;
      background: radial-gradient(ellipse,
        rgba(50,100,50,0.3) 0%,
        rgba(30,70,30,0.5) 40%,
        transparent 70%
      );
      z-index: 6;
    }

    .tunnel.zooming {
      animation: tunnelZoom 0.5s ease-out;
    }

    @keyframes tunnelZoom {
      0% { transform: translateX(-50%) scale(0.5); opacity: 0.3; }
      50% { transform: translateX(-50%) scale(1.3); opacity: 0.8; }
      100% { transform: translateX(-50%) scale(1); opacity: 1; }
    }

    /* Event objects (appearing in 3D space) */
    .event-object {
      position: absolute;
      left: 50%;
      top: 30%;
      transform: translateX(-50%) scale(0);
      z-index: 20;
      opacity: 0;
      transition: all 0.3s ease-out;
    }

    .event-object.visible {
      opacity: 1;
      transform: translateX(-50%) scale(1);
      animation: eventAppear 0.5s ease-out;
    }

    @keyframes eventAppear {
      0% { transform: translateX(-50%) scale(0.2) translateY(-100px); opacity: 0; }
      60% { transform: translateX(-50%) scale(1.1) translateY(0); opacity: 1; }
      100% { transform: translateX(-50%) scale(1) translateY(0); opacity: 1; }
    }

    /* Snake */
    #snake-obj {
      top: 25%;
    }

    .snake-3d {
      position: relative;
    }

    .snake-3d .body {
      width: 150px;
      height: 40px;
      background: linear-gradient(90deg, #3a7a2a, #5a9a3a, #4a8a2a, #3a7a2a);
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.5);
      animation: snakeSlither 0.3s ease-in-out infinite;
    }

    @keyframes snakeSlither {
      0%, 100% { transform: scaleX(1); }
      50% { transform: scaleX(1.05); }
    }

    .snake-3d .head {
      position: absolute;
      left: -35px;
      top: -12px;
      width: 60px;
      height: 60px;
      background: radial-gradient(circle at 30% 30%, #5a9a3a, #3a7a2a);
      border-radius: 50%;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    }

    .snake-3d .eye {
      position: absolute;
      width: 20px;
      height: 20px;
      background: radial-gradient(circle, #ff0000, #990000);
      border-radius: 50%;
      top: 15px;
      left: 18px;
      box-shadow: 0 0 20px rgba(255,0,0,0.8);
      animation: snakeEyePulse 0.5s infinite;
    }

    @keyframes snakeEyePulse {
      0%, 100% { box-shadow: 0 0 20px rgba(255,0,0,0.8); }
      50% { box-shadow: 0 0 35px rgba(255,0,0,1); }
    }

    .snake-3d .eye::after {
      content: '';
      position: absolute;
      width: 6px;
      height: 16px;
      background: #000;
      border-radius: 3px;
      top: 2px;
      left: 7px;
    }

    .snake-3d .tongue {
      position: absolute;
      left: -25px;
      top: 25px;
      width: 30px;
      height: 6px;
      background: #ff3333;
      animation: tongueFlick 0.15s infinite;
    }

    .snake-3d .tongue::before,
    .snake-3d .tongue::after {
      content: '';
      position: absolute;
      left: -12px;
      width: 14px;
      height: 4px;
      background: #ff3333;
    }

    .snake-3d .tongue::before { top: -5px; transform: rotate(-25deg); }
    .snake-3d .tongue::after { top: 7px; transform: rotate(25deg); }

    @keyframes tongueFlick {
      0%, 100% { width: 30px; }
      50% { width: 45px; }
    }

    /* Banana Tree */
    #banana-obj {
      top: 20%;
    }

    .banana-tree-3d {
      position: relative;
    }

    .banana-tree-3d .trunk {
      width: 45px;
      height: 140px;
      background: linear-gradient(90deg, #5a4020, #8a6840, #5a4020);
      border-radius: 8px;
      margin: 0 auto;
      box-shadow: -8px 0 20px rgba(0,0,0,0.4);
    }

    .banana-tree-3d .leaves {
      position: absolute;
      top: -60px;
      left: 50%;
      transform: translateX(-50%);
      width: 180px;
      height: 100px;
    }

    .banana-tree-3d .leaf {
      position: absolute;
      width: 70px;
      height: 25px;
      background: linear-gradient(to right, #2a8a3a, #4aaa5a, #2a8a3a);
      border-radius: 50%;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .banana-tree-3d .leaf:nth-child(1) { transform: rotate(-55deg); left: 0; top: 45px; }
    .banana-tree-3d .leaf:nth-child(2) { transform: rotate(55deg); right: 0; top: 45px; }
    .banana-tree-3d .leaf:nth-child(3) { transform: rotate(-75deg); left: 25px; top: 15px; }
    .banana-tree-3d .leaf:nth-child(4) { transform: rotate(75deg); right: 25px; top: 15px; }
    .banana-tree-3d .leaf:nth-child(5) { left: 50%; transform: translateX(-50%); top: 0; }

    .banana-tree-3d .bunch {
      position: absolute;
      top: 50px;
      left: 60%;
    }

    .banana-tree-3d .banana {
      width: 40px;
      height: 15px;
      background: linear-gradient(to bottom, #ffe135, #ffc800);
      border-radius: 20px;
      margin: 5px 0;
      transform: rotate(-30deg);
      box-shadow: 0 0 20px rgba(255,225,53,0.6);
      animation: bananaGlow 1s ease-in-out infinite;
    }

    @keyframes bananaGlow {
      0%, 100% { box-shadow: 0 0 20px rgba(255,225,53,0.6); }
      50% { box-shadow: 0 0 35px rgba(255,225,53,0.9); }
    }

    /* Mud Pit */
    #pit-obj {
      top: 40%;
    }

    .mud-pit-3d {
      width: 200px;
      height: 60px;
      background: radial-gradient(ellipse, #6a5a4a 0%, #4a3a2a 50%, #3a2a1a 100%);
      border-radius: 50%;
      box-shadow: inset 0 -15px 30px rgba(0,0,0,0.5), 0 10px 25px rgba(0,0,0,0.4);
      position: relative;
    }

    .mud-pit-3d .bubble {
      position: absolute;
      width: 25px;
      height: 25px;
      background: rgba(90,70,50,0.8);
      border-radius: 50%;
      animation: mudBubble 2s infinite;
    }

    .mud-pit-3d .bubble:nth-child(1) { left: 35px; top: 18px; animation-delay: 0s; }
    .mud-pit-3d .bubble:nth-child(2) { left: 90px; top: 22px; animation-delay: 0.7s; }
    .mud-pit-3d .bubble:nth-child(3) { right: 35px; top: 15px; animation-delay: 1.3s; }

    @keyframes mudBubble {
      0%, 100% { transform: scale(0); opacity: 0; }
      30% { transform: scale(1); opacity: 0.8; }
      50% { transform: scale(1.4) translateY(-20px); opacity: 0.4; }
      70% { transform: scale(1.6) translateY(-30px); opacity: 0; }
    }

    /* Golden Banana */
    #golden-obj {
      top: 28%;
    }

    .golden-banana-3d {
      width: 120px;
      height: 50px;
      background: linear-gradient(to bottom, #ffd700, #ffaa00, #ffd700);
      border-radius: 60px;
      transform: rotate(-20deg);
      box-shadow:
        0 0 50px rgba(255,215,0,1),
        0 0 100px rgba(255,180,0,0.7),
        0 0 150px rgba(255,150,0,0.4),
        inset 0 -8px 20px rgba(200,150,0,0.5);
      animation: goldenFloat 1.5s ease-in-out infinite, goldenPulse 0.8s ease-in-out infinite;
    }

    @keyframes goldenFloat {
      0%, 100% { transform: rotate(-20deg) translateY(0); }
      50% { transform: rotate(-20deg) translateY(-20px); }
    }

    @keyframes goldenPulse {
      0%, 100% { box-shadow: 0 0 50px rgba(255,215,0,1), 0 0 100px rgba(255,180,0,0.7); }
      50% { box-shadow: 0 0 80px rgba(255,215,0,1), 0 0 150px rgba(255,180,0,0.9); }
    }

    /* Friends */
    #kaa-obj { top: 25%; }
    #baloo-obj { top: 20%; }
    #wolves-obj { top: 30%; }

    /* Kaa */
    .kaa-3d .body {
      width: 160px;
      height: 28px;
      background: linear-gradient(90deg, #9a8a5a, #baa86a, #9a8a5a);
      border-radius: 14px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    }

    .kaa-3d .head {
      position: absolute;
      left: -40px;
      top: -20px;
      width: 70px;
      height: 70px;
      background: radial-gradient(circle at 40% 40%, #baa86a, #9a8a5a);
      border-radius: 50%;
    }

    .kaa-3d .eye {
      position: absolute;
      width: 35px;
      height: 35px;
      background: radial-gradient(circle, #ffff00 0%, #cccc00 50%, #999900 100%);
      border-radius: 50%;
      top: 15px;
      left: 25px;
      box-shadow: 0 0 30px rgba(255,255,0,0.9);
      animation: hypnoEye 0.5s infinite;
    }

    @keyframes hypnoEye {
      0%, 100% { transform: scale(1); box-shadow: 0 0 30px rgba(255,255,0,0.9); }
      50% { transform: scale(1.2); box-shadow: 0 0 50px rgba(255,255,0,1); }
    }

    .kaa-3d .eye::after {
      content: '';
      position: absolute;
      width: 10px;
      height: 25px;
      background: #000;
      border-radius: 5px;
      top: 5px;
      left: 12px;
    }

    /* Baloo */
    .baloo-3d {
      position: relative;
      width: 130px;
      height: 180px;
    }

    .baloo-3d .body {
      position: absolute;
      width: 110px;
      height: 130px;
      background: linear-gradient(to bottom, #5a5a6a, #4a4a5a);
      border-radius: 55px 55px 45px 45px;
      bottom: 0;
      left: 10px;
      box-shadow: -10px 0 25px rgba(0,0,0,0.4);
    }

    .baloo-3d .belly {
      position: absolute;
      width: 70px;
      height: 85px;
      background: linear-gradient(to bottom, #8a8a9a, #7a7a8a);
      border-radius: 50%;
      bottom: 20px;
      left: 30px;
    }

    .baloo-3d .head {
      position: absolute;
      width: 90px;
      height: 80px;
      background: radial-gradient(circle at 50% 40%, #6a6a7a, #4a4a5a);
      border-radius: 50%;
      top: 0;
      left: 20px;
    }

    .baloo-3d .ear {
      position: absolute;
      width: 30px;
      height: 30px;
      background: #5a5a6a;
      border-radius: 50%;
      top: 8px;
    }

    .baloo-3d .ear.left { left: 22px; }
    .baloo-3d .ear.right { right: 22px; }

    .baloo-3d .snout {
      position: absolute;
      width: 50px;
      height: 38px;
      background: #9a9aaa;
      border-radius: 50%;
      bottom: 32px;
      left: 40px;
    }

    .baloo-3d .nose {
      position: absolute;
      width: 22px;
      height: 15px;
      background: #2a2a3a;
      border-radius: 50%;
      bottom: 58px;
      left: 54px;
    }

    /* Wolves */
    .wolves-3d {
      display: flex;
      gap: 25px;
    }

    .wolf-3d {
      position: relative;
      width: 80px;
      height: 70px;
    }

    .wolf-3d .body {
      position: absolute;
      width: 65px;
      height: 48px;
      background: linear-gradient(to bottom, #6a6a7a, #5a5a6a);
      border-radius: 32px 32px 22px 22px;
      bottom: 0;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    }

    .wolf-3d .head {
      position: absolute;
      width: 42px;
      height: 38px;
      background: #6a6a7a;
      border-radius: 22px 22px 15px 15px;
      top: 10px;
      left: 0;
    }

    .wolf-3d .ear {
      position: absolute;
      width: 15px;
      height: 22px;
      background: #6a6a7a;
      clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
      top: -15px;
    }

    .wolf-3d .ear.left { left: 8px; }
    .wolf-3d .ear.right { left: 22px; }

    .wolf-3d .eye {
      position: absolute;
      width: 10px;
      height: 10px;
      background: #aaffaa;
      border-radius: 50%;
      top: 12px;
      left: 14px;
      box-shadow: 0 0 15px #aaffaa;
      animation: wolfGlow 1.5s infinite;
    }

    @keyframes wolfGlow {
      0%, 100% { box-shadow: 0 0 15px #aaffaa; }
      50% { box-shadow: 0 0 30px #aaffaa, 0 0 45px #88ff88; }
    }

    /* MONKEY HANDS (First Person) */
    .monkey-hands {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 45%;
      z-index: 30;
      pointer-events: none;
    }

    .monkey-hand {
      position: absolute;
      bottom: -20px;
      width: 120px;
      height: 180px;
      z-index: 31;
    }

    .monkey-hand.left {
      left: 5%;
      transform: rotate(15deg);
    }

    .monkey-hand.right {
      right: 5%;
      transform: rotate(-15deg) scaleX(-1);
    }

    /* Hand/Arm */
    .hand-arm {
      position: absolute;
      bottom: 0;
      width: 55px;
      height: 140px;
      background: linear-gradient(90deg, #a83c22, #c84c32, #a83c22);
      border-radius: 28px 28px 25px 25px;
      box-shadow: inset -8px 0 20px rgba(0,0,0,0.3);
    }

    .hand-palm {
      position: absolute;
      top: -30px;
      left: -15px;
      width: 85px;
      height: 75px;
      background: radial-gradient(ellipse at 50% 60%, #c84c32, #a83c22);
      border-radius: 50% 50% 45% 45%;
      box-shadow: inset -5px 0 15px rgba(0,0,0,0.2);
    }

    .hand-palm-inner {
      position: absolute;
      top: 15px;
      left: 15px;
      width: 55px;
      height: 50px;
      background: #e8a090;
      border-radius: 50%;
    }

    .finger {
      position: absolute;
      background: linear-gradient(90deg, #a83c22, #c84c32, #a83c22);
      border-radius: 12px;
    }

    .finger-1 { width: 22px; height: 50px; top: -65px; left: 5px; transform: rotate(15deg); }
    .finger-2 { width: 22px; height: 60px; top: -75px; left: 25px; transform: rotate(5deg); }
    .finger-3 { width: 22px; height: 58px; top: -72px; left: 45px; transform: rotate(-5deg); }
    .finger-4 { width: 20px; height: 45px; top: -58px; left: 63px; transform: rotate(-15deg); }
    .thumb { width: 24px; height: 40px; top: 5px; left: -18px; transform: rotate(40deg); }

    /* Hand animations */
    .monkey-hand.left.swing-left {
      animation: leftHandGrab 0.6s ease-out;
    }

    .monkey-hand.right.swing-right {
      animation: rightHandGrab 0.6s ease-out;
    }

    .monkey-hand.left.swing-forward,
    .monkey-hand.right.swing-forward {
      animation: handsReachUp 0.6s ease-out;
    }

    @keyframes leftHandGrab {
      0% { transform: rotate(15deg) translateY(0); }
      30% { transform: rotate(-10deg) translateY(-80px) translateX(30px); }
      60% { transform: rotate(5deg) translateY(-50px) translateX(15px); }
      100% { transform: rotate(15deg) translateY(0); }
    }

    @keyframes rightHandGrab {
      0% { transform: rotate(-15deg) scaleX(-1) translateY(0); }
      30% { transform: rotate(10deg) scaleX(-1) translateY(-80px) translateX(-30px); }
      60% { transform: rotate(-5deg) scaleX(-1) translateY(-50px) translateX(-15px); }
      100% { transform: rotate(-15deg) scaleX(-1) translateY(0); }
    }

    @keyframes handsReachUp {
      0% { transform: rotate(15deg) translateY(0); }
      40% { transform: rotate(-5deg) translateY(-100px) scale(0.8); }
      70% { transform: rotate(5deg) translateY(-60px) scale(0.9); }
      100% { transform: rotate(15deg) translateY(0); }
    }

    /* Screen shake */
    #viewport.shake {
      animation: viewportShake 0.4s ease-out;
    }

    @keyframes viewportShake {
      0%, 100% { transform: translate(0, 0); }
      20% { transform: translate(-8px, 5px); }
      40% { transform: translate(8px, -5px); }
      60% { transform: translate(-5px, 8px); }
      80% { transform: translate(5px, -8px); }
    }

    /* Damage overlay */
    .damage-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse, transparent 40%, rgba(180,0,0,0.6) 100%);
      z-index: 35;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.1s;
    }

    .damage-overlay.active {
      opacity: 1;
      animation: damageFlash 0.4s ease-out;
    }

    @keyframes damageFlash {
      0% { opacity: 0.8; }
      100% { opacity: 0; }
    }

    /* ==================== DOOM-STYLE HUD ==================== */
    .hud {
      height: 90px;
      background: linear-gradient(to bottom, #4a3a2a, #2a1a0a);
      border-top: 4px solid #6a5a4a;
      display: flex;
      justify-content: space-between;
      align-items: stretch;
      position: relative;
      box-shadow: inset 0 5px 20px rgba(0,0,0,0.5);
    }

    .hud-section {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 8px 15px;
      min-width: 100px;
    }

    .hud-section.left {
      background: linear-gradient(to bottom, #3a2a1a, #1a0a00);
      border-right: 3px solid #5a4a3a;
    }

    .hud-section.right {
      background: linear-gradient(to bottom, #3a2a1a, #1a0a00);
      border-left: 3px solid #5a4a3a;
    }

    .hud-value {
      font-size: 1.8rem;
      color: var(--hud-red);
      text-shadow: 0 0 10px rgba(185,28,28,0.8);
      line-height: 1;
    }

    .hud-value.health { color: #ff4444; }
    .hud-value.bananas { color: #ffd700; text-shadow: 0 0 10px rgba(255,215,0,0.8); }
    .hud-value.songs { color: #44ff44; text-shadow: 0 0 10px rgba(68,255,68,0.8); }
    .hud-value.golden { color: #888; }
    .hud-value.golden.yes { color: #ffd700; text-shadow: 0 0 15px rgba(255,215,0,1); animation: goldenHudPulse 1s infinite; }

    @keyframes goldenHudPulse {
      0%, 100% { text-shadow: 0 0 15px rgba(255,215,0,1); }
      50% { text-shadow: 0 0 30px rgba(255,215,0,1), 0 0 45px rgba(255,180,0,0.8); }
    }

    .hud-label {
      font-size: 0.5rem;
      color: #aa9977;
      margin-top: 5px;
      text-transform: uppercase;
    }

    /* Monkey face in center */
    .hud-center {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .monkey-face-hud {
      width: 70px;
      height: 70px;
      background: linear-gradient(to bottom, #c84c32, #a83c22);
      border-radius: 50%;
      border: 4px solid #5a4a3a;
      position: relative;
      box-shadow: inset -5px -5px 15px rgba(0,0,0,0.4), 0 0 15px rgba(0,0,0,0.5);
    }

    .monkey-face-hud .ear {
      position: absolute;
      width: 22px;
      height: 22px;
      background: #c84c32;
      border-radius: 50%;
      top: 5px;
      border: 3px solid #5a4a3a;
    }

    .monkey-face-hud .ear.left { left: -12px; }
    .monkey-face-hud .ear.right { right: -12px; }

    .monkey-face-hud .ear-inner {
      position: absolute;
      width: 10px;
      height: 10px;
      background: #e8a090;
      border-radius: 50%;
      top: 3px;
      left: 3px;
    }

    .monkey-face-hud .eye {
      position: absolute;
      width: 14px;
      height: 14px;
      background: #fff;
      border-radius: 50%;
      top: 18px;
    }

    .monkey-face-hud .eye.left { left: 12px; }
    .monkey-face-hud .eye.right { right: 12px; }

    .monkey-face-hud .eye::after {
      content: '';
      position: absolute;
      width: 8px;
      height: 8px;
      background: #222;
      border-radius: 50%;
      top: 3px;
      left: 3px;
    }

    .monkey-face-hud .snout {
      position: absolute;
      width: 35px;
      height: 25px;
      background: #e8a090;
      border-radius: 50%;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
    }

    .monkey-face-hud .nose {
      position: absolute;
      width: 8px;
      height: 6px;
      background: #5a3020;
      border-radius: 50%;
      bottom: 28px;
      left: 50%;
      transform: translateX(-50%);
    }

    .monkey-face-hud .mouth {
      position: absolute;
      width: 20px;
      height: 8px;
      border: 3px solid #5a3020;
      border-top: none;
      border-radius: 0 0 15px 15px;
      bottom: 12px;
      left: 50%;
      transform: translateX(-50%);
    }

    /* Face states */
    .monkey-face-hud.hurt .eye::after {
      width: 10px;
      height: 3px;
      border-radius: 0;
      top: 6px;
      left: 2px;
    }

    .monkey-face-hud.hurt .mouth {
      width: 25px;
      height: 15px;
      background: #3a2020;
      border: none;
      border-radius: 50%;
    }

    /* Controls area */
    .controls-area {
      display: flex;
      gap: 8px;
      padding: 8px;
      background: #000;
    }

    .controls-area button {
      flex: 1;
      font-family: 'Press Start 2P', cursive;
      background: linear-gradient(to bottom, #5a4a3a 0%, #3a2a1a 100%);
      color: #ddd;
      border: 3px solid #6a5a4a;
      padding: 12px 8px;
      cursor: pointer;
      transition: all 0.15s;
      font-size: 0.45rem;
      text-shadow: 1px 1px 2px #000;
    }

    .controls-area button:hover {
      background: linear-gradient(to bottom, var(--jade) 0%, #007a50 100%);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0,168,107,0.4);
    }

    .controls-area button:active {
      transform: translateY(0);
    }

    .controls-area button.quit-btn:hover {
      background: linear-gradient(to bottom, var(--terracotta) 0%, #8a3020 100%);
    }

    /* Text log */
    #text-log {
      height: 60px;
      background: rgba(0,0,0,0.9);
      border-top: 2px solid #4a3a2a;
      padding: 8px 12px;
      overflow-y: auto;
      font-size: 0.45rem;
      color: #aa9;
      line-height: 1.6;
    }

    #text-log::-webkit-scrollbar { width: 5px; }
    #text-log::-webkit-scrollbar-track { background: transparent; }
    #text-log::-webkit-scrollbar-thumb { background: #5a4a3a; border-radius: 3px; }

    /* Modal */
    #minigame-modal {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(to bottom, rgba(44,36,22,0.98), rgba(30,24,14,0.98));
      border: 4px solid var(--gold);
      padding: 25px;
      z-index: 100;
      text-align: center;
      max-width: 85%;
      box-shadow: 0 0 60px rgba(0,0,0,0.9);
    }

    #minigame-modal h3 {
      color: var(--gold);
      font-size: 0.7rem;
      margin-bottom: 15px;
      text-shadow: 0 0 15px rgba(212,175,55,0.6);
    }

    #minigame-modal p {
      font-size: 0.5rem;
      color: #ddd;
      margin-bottom: 18px;
      line-height: 1.8;
    }

    .minigame-options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .minigame-options button {
      font-family: 'Press Start 2P', cursive;
      background: linear-gradient(to bottom, #3a3a4a, #2a2a3a);
      color: #ddd;
      border: 2px solid var(--jade);
      padding: 12px;
      cursor: pointer;
      font-size: 0.4rem;
      transition: all 0.15s;
    }

    .minigame-options button:hover {
      background: var(--jade);
      color: #000;
      transform: scale(1.03);
    }

    /* Game overlay */
    #game-overlay {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.92);
      z-index: 90;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    #game-overlay h2 {
      font-size: 1.2rem;
      margin-bottom: 25px;
      text-shadow: 0 0 40px currentColor;
    }

    #game-overlay.victory h2 { color: var(--gold); }
    #game-overlay.defeat h2 { color: var(--terracotta); }

    #game-overlay button {
      font-family: 'Press Start 2P', cursive;
      background: var(--jade);
      color: #fff;
      border: 4px solid var(--gold);
      padding: 15px 35px;
      cursor: pointer;
      font-size: 0.6rem;
      transition: all 0.15s;
    }

    #game-overlay button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 35px rgba(0,168,107,0.7);
    }

    .back-link {
      display: block;
      text-align: center;
      padding: 8px;
      background: #000;
      color: var(--gold);
      text-decoration: none;
      font-size: 0.4rem;
      opacity: 0.8;
      transition: opacity 0.2s;
    }

    .back-link:hover { opacity: 1; color: var(--turquoise); }

    @media (max-width: 600px) {
      .hud { height: 75px; }
      .hud-value { font-size: 1.3rem; }
      .hud-label { font-size: 0.4rem; }
      .monkey-face-hud { width: 55px; height: 55px; }
      .controls-area button { font-size: 0.35rem; padding: 10px 5px; }
      #text-log { height: 50px; font-size: 0.38rem; }
      .monkey-hand { width: 90px; height: 140px; }
    }
  </style>
</head>
<body>
  <div id="game-container">
    <!-- 3D Viewport -->
    <div id="viewport">
      <!-- Environment -->
      <div class="canopy"></div>
      <div class="sun-rays"></div>
      <div class="floor-3d" id="floor"></div>
      <div class="wall-left"></div>
      <div class="wall-right"></div>
      <div class="tunnel" id="tunnel"></div>

      <!-- Trees -->
      <div class="tree-trunk left-1" id="tree-l1"></div>
      <div class="tree-trunk left-2" id="tree-l2"></div>
      <div class="tree-trunk right-1" id="tree-r1"></div>
      <div class="tree-trunk right-2" id="tree-r2"></div>

      <!-- Vines -->
      <div class="hanging-vine vine-l1"></div>
      <div class="hanging-vine vine-l2"></div>
      <div class="hanging-vine vine-r1"></div>
      <div class="hanging-vine vine-r2"></div>
      <div class="hanging-vine vine-center"></div>
      <div class="grabbed-vine" id="grabbed-vine"></div>

      <!-- Event Objects -->
      <div id="snake-obj" class="event-object">
        <div class="snake-3d">
          <div class="body"></div>
          <div class="head">
            <div class="eye"></div>
            <div class="tongue"></div>
          </div>
        </div>
      </div>

      <div id="banana-obj" class="event-object">
        <div class="banana-tree-3d">
          <div class="leaves">
            <div class="leaf"></div>
            <div class="leaf"></div>
            <div class="leaf"></div>
            <div class="leaf"></div>
            <div class="leaf"></div>
          </div>
          <div class="bunch">
            <div class="banana"></div>
            <div class="banana"></div>
            <div class="banana"></div>
          </div>
          <div class="trunk"></div>
        </div>
      </div>

      <div id="pit-obj" class="event-object">
        <div class="mud-pit-3d">
          <div class="bubble"></div>
          <div class="bubble"></div>
          <div class="bubble"></div>
        </div>
      </div>

      <div id="golden-obj" class="event-object">
        <div class="golden-banana-3d"></div>
      </div>

      <div id="kaa-obj" class="event-object">
        <div class="kaa-3d">
          <div class="body"></div>
          <div class="head">
            <div class="eye"></div>
          </div>
        </div>
      </div>

      <div id="baloo-obj" class="event-object">
        <div class="baloo-3d">
          <div class="body"></div>
          <div class="belly"></div>
          <div class="head">
            <div class="ear left"></div>
            <div class="ear right"></div>
            <div class="snout"></div>
            <div class="nose"></div>
          </div>
        </div>
      </div>

      <div id="wolves-obj" class="event-object">
        <div class="wolves-3d">
          <div class="wolf-3d"><div class="body"></div><div class="head"><div class="ear left"></div><div class="ear right"></div><div class="eye"></div></div></div>
          <div class="wolf-3d"><div class="body"></div><div class="head"><div class="ear left"></div><div class="ear right"></div><div class="eye"></div></div></div>
          <div class="wolf-3d"><div class="body"></div><div class="head"><div class="ear left"></div><div class="ear right"></div><div class="eye"></div></div></div>
        </div>
      </div>

      <!-- Monkey Hands -->
      <div class="monkey-hands">
        <div class="monkey-hand left" id="hand-left">
          <div class="hand-arm"></div>
          <div class="hand-palm">
            <div class="hand-palm-inner"></div>
          </div>
          <div class="finger finger-1"></div>
          <div class="finger finger-2"></div>
          <div class="finger finger-3"></div>
          <div class="finger finger-4"></div>
          <div class="finger thumb"></div>
        </div>
        <div class="monkey-hand right" id="hand-right">
          <div class="hand-arm"></div>
          <div class="hand-palm">
            <div class="hand-palm-inner"></div>
          </div>
          <div class="finger finger-1"></div>
          <div class="finger finger-2"></div>
          <div class="finger finger-3"></div>
          <div class="finger finger-4"></div>
          <div class="finger thumb"></div>
        </div>
      </div>

      <!-- Damage overlay -->
      <div class="damage-overlay" id="damage-overlay"></div>

      <!-- Modal -->
      <div id="minigame-modal">
        <h3>GOLDEN BANANA CHALLENGE!</h3>
        <p>Riddle: What can you catch but not throw?</p>
        <div class="minigame-options">
          <button onclick="game.answerRiddle('A')">A: A ball</button>
          <button onclick="game.answerRiddle('B')">B: A cold</button>
          <button onclick="game.answerRiddle('C')">C: A fish</button>
          <button onclick="game.answerRiddle('D')">D: A shadow</button>
        </div>
      </div>

      <!-- Overlay -->
      <div id="game-overlay">
        <h2 id="overlay-title"></h2>
        <button onclick="game.restart()">PLAY AGAIN</button>
      </div>
    </div>

    <!-- DOOM-style HUD -->
    <div class="hud">
      <div class="hud-section left">
        <div class="hud-value health" id="health-val">100</div>
        <div class="hud-label">Health</div>
      </div>
      <div class="hud-section left">
        <div class="hud-value bananas" id="bananas-val">0</div>
        <div class="hud-label">Bananas</div>
      </div>
      <div class="hud-center">
        <div class="monkey-face-hud" id="monkey-face">
          <div class="ear left"><div class="ear-inner"></div></div>
          <div class="ear right"><div class="ear-inner"></div></div>
          <div class="eye left"></div>
          <div class="eye right"></div>
          <div class="snout"></div>
          <div class="nose"></div>
          <div class="mouth"></div>
        </div>
      </div>
      <div class="hud-section right">
        <div class="hud-value songs" id="songs-val">0</div>
        <div class="hud-label">Songs</div>
      </div>
      <div class="hud-section right">
        <div class="hud-value golden" id="golden-val">NO</div>
        <div class="hud-label">Golden</div>
      </div>
    </div>

    <!-- Text Log -->
    <div id="text-log"></div>

    <!-- Controls -->
    <div class="controls-area">
      <button onclick="game.swing('left')">SWING LEFT</button>
      <button onclick="game.swing('straight')">FORWARD</button>
      <button onclick="game.swing('right')">SWING RIGHT</button>
      <button id="climb-btn" onclick="game.swing('up')" style="display:none;">CLIMB UP</button>
      <button class="quit-btn" onclick="game.quit()">QUIT</button>
    </div>

    <a href="index.html" class="back-link">< BACK TO HOME</a>
  </div>

  <script>
    class Game {
      constructor() {
        this.init();
        this.setupKeyboard();
      }

      init() {
        this.health = 100;
        this.bananas = 0;
        this.jungleSongs = 0;
        this.hasGoldenBanana = false;
        this.canClimbUp = false;
        this.gameOver = false;
        this.isAnimating = false;

        this.events = [
          ...Array(6).fill(['snake', 'banana_tree', 'muddy_pit', 'banana_stash', 'nothing']).flat(),
          ...Array(3).fill('meet_friend'),
          'golden_banana'
        ];

        this.updateUI();
        this.hideAllEvents();
        this.log("Welcome to SWINGER MONKEY!");
        this.log("Collect 69 bananas + the Golden Banana to win!");
      }

      setupKeyboard() {
        document.addEventListener('keydown', (e) => {
          if (this.gameOver || this.isAnimating) return;
          const key = e.key.toLowerCase();
          if (key === 'a' || key === 'arrowleft') this.swing('left');
          else if (key === 'w' || key === 'arrowup') this.swing('straight');
          else if (key === 'd' || key === 'arrowright') this.swing('right');
          else if (key === 'u' && this.canClimbUp) this.swing('up');
          else if (key === 'q' || key === 'escape') this.quit();
        });
      }

      log(text) {
        const logEl = document.getElementById('text-log');
        logEl.innerHTML += `<div>> ${text}</div>`;
        logEl.scrollTop = logEl.scrollHeight;
      }

      updateUI() {
        document.getElementById('health-val').textContent = this.health;
        document.getElementById('bananas-val').textContent = this.bananas;
        document.getElementById('songs-val').textContent = this.jungleSongs;
        const goldenEl = document.getElementById('golden-val');
        goldenEl.textContent = this.hasGoldenBanana ? 'YES' : 'NO';
        goldenEl.className = 'hud-value golden' + (this.hasGoldenBanana ? ' yes' : '');
        document.getElementById('climb-btn').style.display = this.canClimbUp ? 'block' : 'none';
      }

      hideAllEvents() {
        document.querySelectorAll('.event-object').forEach(el => el.classList.remove('visible'));
      }

      showEvent(eventId) {
        this.hideAllEvents();
        const el = document.getElementById(eventId);
        if (el) el.classList.add('visible');
      }

      animateSwing(direction) {
        return new Promise(resolve => {
          this.isAnimating = true;

          const leftHand = document.getElementById('hand-left');
          const rightHand = document.getElementById('hand-right');
          const floor = document.getElementById('floor');
          const tunnel = document.getElementById('tunnel');
          const grabbedVine = document.getElementById('grabbed-vine');
          const trees = ['tree-l1', 'tree-l2', 'tree-r1', 'tree-r2'].map(id => document.getElementById(id));

          // Reset animations
          leftHand.classList.remove('swing-left', 'swing-right', 'swing-forward');
          rightHand.classList.remove('swing-left', 'swing-right', 'swing-forward');
          floor.classList.remove('moving');
          tunnel.classList.remove('zooming');
          grabbedVine.classList.remove('visible');
          trees.forEach(t => t.classList.remove('moving'));

          void leftHand.offsetWidth; // Force reflow

          // Apply direction-specific animations
          if (direction === 'left') {
            leftHand.classList.add('swing-left');
            grabbedVine.classList.add('visible');
          } else if (direction === 'right') {
            rightHand.classList.add('swing-right');
            grabbedVine.classList.add('visible');
          } else {
            leftHand.classList.add('swing-forward');
            rightHand.classList.add('swing-forward');
            grabbedVine.classList.add('visible');
          }

          // Environment animations
          floor.classList.add('moving');
          tunnel.classList.add('zooming');
          trees.forEach(t => t.classList.add('moving'));

          setTimeout(() => {
            this.isAnimating = false;
            resolve();
          }, 600);
        });
      }

      showDamage() {
        const overlay = document.getElementById('damage-overlay');
        const viewport = document.getElementById('viewport');
        const face = document.getElementById('monkey-face');

        overlay.classList.remove('active');
        viewport.classList.remove('shake');
        face.classList.remove('hurt');

        void overlay.offsetWidth;

        overlay.classList.add('active');
        viewport.classList.add('shake');
        face.classList.add('hurt');

        setTimeout(() => {
          face.classList.remove('hurt');
        }, 500);
      }

      async swing(direction) {
        if (this.gameOver || this.isAnimating) return;

        this.canClimbUp = false;
        this.updateUI();

        await this.animateSwing(direction);

        const dirText = direction === 'straight' ? 'FORWARD' : direction.toUpperCase();
        this.log(`Swinging ${dirText}...`);

        const event = this.events[Math.floor(Math.random() * this.events.length)];

        switch(event) {
          case 'snake':
            this.showEvent('snake-obj');
            if (this.jungleSongs > 0) {
              this.jungleSongs--;
              this.log("SNAKE! Your jungle song scares it away!");
            } else {
              const damage = Math.floor(Math.random() * 16) + 10;
              this.health -= damage;
              this.showDamage();
              this.log(`SNAKE BITE! -${damage} health!`);
            }
            break;

          case 'banana_tree':
            this.showEvent('banana-obj');
            const reward = Math.floor(Math.random() * 5) + 1;
            this.bananas += reward;
            this.log(`Banana tree! +${reward} bananas!`);
            break;

          case 'banana_stash':
            this.showEvent('banana-obj');
            const stash = Math.floor(Math.random() * 11) + 5;
            this.bananas += stash;
            this.log(`Hidden stash! +${stash} bananas!`);
            break;

          case 'muddy_pit':
            this.showEvent('pit-obj');
            const pitDmg = Math.floor(Math.random() * 11) + 5;
            this.health -= pitDmg;
            this.showDamage();
            this.log(`Fell in mud! -${pitDmg} health!`);
            break;

          case 'golden_banana':
            if (!this.hasGoldenBanana) {
              this.showEvent('golden-obj');
              this.log("THE GOLDEN BANANA! Answer the riddle!");
              document.getElementById('minigame-modal').style.display = 'block';
              return;
            } else {
              this.log("Swinging deeper into the jungle...");
            }
            break;

          case 'meet_friend':
            const friends = ['kaa', 'baloo', 'wolves'];
            const friend = friends[Math.floor(Math.random() * friends.length)];

            if (friend === 'kaa') {
              this.showEvent('kaa-obj');
              this.log("KAA! Shows you how to climb higher!");
              this.canClimbUp = true;
            } else if (friend === 'baloo') {
              this.showEvent('baloo-obj');
              this.jungleSongs++;
              this.log("BALOO teaches you a jungle song! +1 Song");
            } else {
              this.showEvent('wolves-obj');
              this.health = Math.min(100, this.health + 15);
              this.log("WOLF PACK protects you! +15 health!");
            }
            break;

          default:
            this.hideAllEvents();
            this.log("The jungle stretches on...");
        }

        this.updateUI();
        this.checkGameState();
      }

      answerRiddle(answer) {
        document.getElementById('minigame-modal').style.display = 'none';

        if (answer === 'B') {
          this.hasGoldenBanana = true;
          this.bananas += 20;
          this.log("CORRECT! The Golden Banana is yours! +20 bananas!");
        } else {
          this.log("Wrong! The Golden Banana vanishes...");
        }

        this.hideAllEvents();
        this.updateUI();
        this.checkGameState();
      }

      checkGameState() {
        if (this.health <= 0) {
          this.gameOver = true;
          const overlay = document.getElementById('game-overlay');
          overlay.className = 'defeat';
          overlay.style.display = 'flex';
          document.getElementById('overlay-title').textContent = 'GAME OVER';
          this.log("The jungle claims another soul...");
        } else if (this.bananas >= 69 && this.hasGoldenBanana) {
          this.gameOver = true;
          const overlay = document.getElementById('game-overlay');
          overlay.className = 'victory';
          overlay.style.display = 'flex';
          document.getElementById('overlay-title').textContent = 'VICTORY!';
          this.log("YOU SAVED THE JUNGLE!");
        }
      }

      quit() {
        if (confirm('Quit game?')) {
          window.location.href = 'index.html';
        }
      }

      restart() {
        document.getElementById('game-overlay').style.display = 'none';
        document.getElementById('text-log').innerHTML = '';
        this.init();
      }
    }

    const game = new Game();
  </script>
</body>
</html>

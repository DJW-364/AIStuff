<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Swinger Monkey - So Easy Monkey Can Do It</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üêµ</text></svg>">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --gold: #D4AF37;
      --jade: #00A86B;
      --turquoise: #40E0D0;
      --terracotta: #C84C32;
      --stone-dark: #2C2416;
      --stone-mid: #4A3C2A;
      --cream: #F5E6C8;
    }

    body {
      font-family: 'Press Start 2P', cursive;
      background: #000;
      min-height: 100vh;
      color: var(--cream);
      overflow: hidden;
    }

    #game-wrapper {
      max-width: 1000px;
      margin: 0 auto;
      height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 8px;
    }

    /* HUD */
    .hud {
      display: flex;
      justify-content: space-between;
      background: linear-gradient(to bottom, rgba(0,0,0,0.9), rgba(0,0,0,0.7));
      border: 2px solid var(--gold);
      padding: 10px 20px;
      margin-bottom: 5px;
      flex-shrink: 0;
      position: relative;
      z-index: 100;
    }

    .hud-item {
      font-size: 0.55rem;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
    }

    .hud-item span {
      color: var(--turquoise);
      margin-left: 5px;
    }

    .hud-item.health span { color: #ff6b6b; }
    .hud-item.bananas span { color: #ffd93d; }
    .hud-item.golden span.yes { color: #ffd700; text-shadow: 0 0 10px #ffd700; }

    /* Game Viewport */
    #game-viewport {
      flex: 1;
      position: relative;
      overflow: hidden;
      border: 2px solid var(--gold);
      min-height: 350px;
    }

    /* Camera container - this moves to create camera effects */
    #camera {
      position: absolute;
      width: 100%;
      height: 100%;
      transition: transform 0.3s ease-out;
    }

    #camera.shake {
      animation: cameraShake 0.4s ease-out;
    }

    #camera.swing-left {
      animation: cameraSwingLeft 0.6s ease-out;
    }

    #camera.swing-right {
      animation: cameraSwingRight 0.6s ease-out;
    }

    #camera.swing-forward {
      animation: cameraSwingForward 0.7s ease-out;
    }

    @keyframes cameraShake {
      0%, 100% { transform: translate(0, 0); }
      20% { transform: translate(-5px, 3px); }
      40% { transform: translate(5px, -3px); }
      60% { transform: translate(-3px, 5px); }
      80% { transform: translate(3px, -5px); }
    }

    @keyframes cameraSwingLeft {
      0% { transform: translate(0, 0) rotate(0deg); }
      30% { transform: translate(30px, -10px) rotate(2deg); }
      60% { transform: translate(20px, -5px) rotate(1deg); }
      100% { transform: translate(0, 0) rotate(0deg); }
    }

    @keyframes cameraSwingRight {
      0% { transform: translate(0, 0) rotate(0deg); }
      30% { transform: translate(-30px, -10px) rotate(-2deg); }
      60% { transform: translate(-20px, -5px) rotate(-1deg); }
      100% { transform: translate(0, 0) rotate(0deg); }
    }

    @keyframes cameraSwingForward {
      0% { transform: scale(1) translateY(0); }
      40% { transform: scale(1.08) translateY(-15px); }
      70% { transform: scale(1.05) translateY(-10px); }
      100% { transform: scale(1) translateY(0); }
    }

    /* Sky with gradient and sun rays */
    .sky {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 55%;
      background: linear-gradient(to bottom,
        #0d1f0d 0%,
        #1a3a1a 25%,
        #2a5a2a 50%,
        #3a7a3a 75%,
        #4a8a4a 100%
      );
      z-index: 1;
    }

    /* Sun rays */
    .sun-rays {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      height: 60%;
      background: radial-gradient(ellipse at 50% 0%,
        rgba(255, 255, 200, 0.15) 0%,
        rgba(255, 255, 150, 0.08) 30%,
        transparent 70%
      );
      z-index: 2;
      pointer-events: none;
    }

    /* Fog/mist layer */
    .fog {
      position: absolute;
      bottom: 40%;
      left: 0;
      width: 200%;
      height: 30%;
      background: linear-gradient(to top,
        rgba(100, 150, 100, 0.3) 0%,
        rgba(100, 150, 100, 0.1) 50%,
        transparent 100%
      );
      z-index: 3;
      animation: fogMove 20s linear infinite;
    }

    @keyframes fogMove {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    /* Parallax layers */
    .parallax-layer {
      position: absolute;
      width: 200%;
      height: 100%;
      left: 0;
      top: 0;
    }

    /* Far background trees (slowest) */
    .bg-far {
      z-index: 4;
    }

    .bg-far.scrolling {
      animation: scrollFar 2s linear;
    }

    @keyframes scrollFar {
      0% { transform: translateX(0); }
      100% { transform: translateX(-3%); }
    }

    .tree-far {
      position: absolute;
      bottom: 45%;
    }

    .tree-far .trunk {
      width: 8px;
      height: 40px;
      background: #1a2a1a;
      margin: 0 auto;
    }

    .tree-far .canopy {
      width: 35px;
      height: 28px;
      background: radial-gradient(ellipse, #1a4a2a 0%, #0a2a1a 100%);
      border-radius: 50%;
      margin-bottom: -5px;
    }

    /* Mid background trees */
    .bg-mid {
      z-index: 5;
    }

    .bg-mid.scrolling {
      animation: scrollMid 2s linear;
    }

    @keyframes scrollMid {
      0% { transform: translateX(0); }
      100% { transform: translateX(-5%); }
    }

    .tree-mid {
      position: absolute;
      bottom: 40%;
    }

    .tree-mid .trunk {
      width: 15px;
      height: 70px;
      background: linear-gradient(90deg, #2a1a0a, #4a3020, #2a1a0a);
      margin: 0 auto;
      border-radius: 3px;
    }

    .tree-mid .canopy {
      width: 60px;
      height: 45px;
      background: radial-gradient(ellipse, #2a6a3a 0%, #1a4a2a 70%, #0a3a1a 100%);
      border-radius: 50%;
      margin-bottom: -10px;
    }

    /* Near foreground trees (fastest) */
    .bg-near {
      z-index: 6;
    }

    .bg-near.scrolling {
      animation: scrollNear 2s linear;
    }

    @keyframes scrollNear {
      0% { transform: translateX(0); }
      100% { transform: translateX(-8%); }
    }

    .tree-near {
      position: absolute;
      bottom: 25%;
    }

    .tree-near .trunk {
      width: 30px;
      height: 150px;
      background: linear-gradient(90deg, #3a2010, #6a4030, #3a2010);
      margin: 0 auto;
      border-radius: 5px;
      box-shadow: -5px 0 15px rgba(0,0,0,0.3);
    }

    .tree-near .canopy {
      width: 120px;
      height: 90px;
      background: radial-gradient(ellipse at 50% 60%, #3a8a4a 0%, #2a6a3a 50%, #1a4a2a 100%);
      border-radius: 50%;
      margin-bottom: -20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    /* Ground */
    .ground {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 35%;
      background: linear-gradient(to bottom,
        #4a6a3a 0%,
        #3a5a2a 20%,
        #2a4a1a 50%,
        #1a3a0a 100%
      );
      z-index: 7;
    }

    /* Path */
    .path {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 35%;
      height: 35%;
      background: linear-gradient(to top,
        #5a4a3a 0%,
        #4a3a2a 30%,
        #3a2a1a 60%,
        transparent 100%
      );
      clip-path: polygon(25% 100%, 75% 100%, 58% 0%, 42% 0%);
      z-index: 8;
    }

    .path.scrolling {
      animation: pathScroll 0.7s ease-out;
    }

    @keyframes pathScroll {
      0% { transform: translateX(-50%) scaleY(1); }
      50% { transform: translateX(-50%) scaleY(1.3); }
      100% { transform: translateX(-50%) scaleY(1); }
    }

    /* Vines */
    .vines-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 60%;
      z-index: 15;
      pointer-events: none;
    }

    .vine {
      position: absolute;
      top: 0;
      width: 5px;
      background: linear-gradient(to bottom,
        #2a7a3a 0%,
        #3a9a4a 30%,
        #2a7a3a 60%,
        rgba(42, 122, 58, 0.3) 100%
      );
      border-radius: 0 0 3px 3px;
      transform-origin: top center;
    }

    .vine::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: -5px;
      width: 15px;
      height: 15px;
      background: #3a9a4a;
      clip-path: polygon(50% 100%, 0 40%, 25% 0, 75% 0, 100% 40%);
    }

    .vine-1 { left: 8%; height: 45%; animation: vineSwing 4s ease-in-out infinite; }
    .vine-2 { left: 18%; height: 35%; animation: vineSwing 5s ease-in-out infinite -1s; }
    .vine-3 { left: 30%; height: 50%; animation: vineSwing 4.5s ease-in-out infinite -2s; }
    .vine-4 { right: 30%; height: 40%; animation: vineSwing 5.5s ease-in-out infinite -0.5s; }
    .vine-5 { right: 18%; height: 55%; animation: vineSwing 4s ease-in-out infinite -1.5s; }
    .vine-6 { right: 8%; height: 38%; animation: vineSwing 5s ease-in-out infinite -2.5s; }

    @keyframes vineSwing {
      0%, 100% { transform: rotate(-6deg); }
      50% { transform: rotate(6deg); }
    }

    /* Monkey */
    #monkey {
      position: absolute;
      bottom: 20%;
      left: 50%;
      transform: translateX(-50%);
      z-index: 20;
      filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
    }

    #monkey.swing-left {
      animation: monkeySwingLeft 0.6s ease-out;
    }

    #monkey.swing-right {
      animation: monkeySwingRight 0.6s ease-out;
    }

    #monkey.swing-forward {
      animation: monkeySwingForward 0.7s ease-out;
    }

    @keyframes monkeySwingLeft {
      0% { transform: translateX(-50%) rotate(0) scale(1); }
      20% { transform: translateX(-100%) rotate(-25deg) scale(0.9) translateY(-40px); }
      50% { transform: translateX(-80%) rotate(-15deg) scale(0.85) translateY(-60px); }
      80% { transform: translateX(-60%) rotate(-5deg) scale(0.9) translateY(-30px); }
      100% { transform: translateX(-50%) rotate(0) scale(1); }
    }

    @keyframes monkeySwingRight {
      0% { transform: translateX(-50%) rotate(0) scale(1); }
      20% { transform: translateX(0%) rotate(25deg) scale(0.9) translateY(-40px); }
      50% { transform: translateX(-20%) rotate(15deg) scale(0.85) translateY(-60px); }
      80% { transform: translateX(-40%) rotate(5deg) scale(0.9) translateY(-30px); }
      100% { transform: translateX(-50%) rotate(0) scale(1); }
    }

    @keyframes monkeySwingForward {
      0% { transform: translateX(-50%) scale(1) translateY(0); }
      30% { transform: translateX(-50%) scale(0.7) translateY(-80px); }
      50% { transform: translateX(-50%) scale(0.5) translateY(-120px); }
      70% { transform: translateX(-50%) scale(0.6) translateY(-80px); }
      100% { transform: translateX(-50%) scale(1) translateY(0); }
    }

    .monkey-body-container {
      position: relative;
      width: 90px;
      height: 110px;
    }

    .monkey-body {
      position: absolute;
      width: 55px;
      height: 60px;
      background: linear-gradient(to bottom, #c84c32, #a83c22);
      border-radius: 28px 28px 22px 22px;
      left: 50%;
      bottom: 10px;
      transform: translateX(-50%);
      box-shadow: inset -8px 0 15px rgba(0,0,0,0.2);
    }

    .monkey-head {
      position: absolute;
      width: 52px;
      height: 45px;
      background: linear-gradient(to bottom, #c84c32, #b84c32);
      border-radius: 50%;
      left: 50%;
      top: 0;
      transform: translateX(-50%);
      box-shadow: inset -5px 0 10px rgba(0,0,0,0.2);
    }

    .monkey-ear {
      position: absolute;
      width: 22px;
      height: 22px;
      background: linear-gradient(135deg, #c84c32, #a83c22);
      border-radius: 50%;
      top: 8px;
    }

    .monkey-ear.left { left: 2px; }
    .monkey-ear.right { right: 2px; }

    .monkey-ear-inner {
      position: absolute;
      width: 12px;
      height: 12px;
      background: #e8a090;
      border-radius: 50%;
      top: 5px;
      left: 5px;
    }

    .monkey-arm {
      position: absolute;
      width: 14px;
      height: 50px;
      background: linear-gradient(to bottom, #c84c32, #a83c22);
      border-radius: 7px;
      top: 35px;
      transform-origin: top center;
    }

    .monkey-arm.left {
      left: 5px;
      transform: rotate(25deg);
    }

    .monkey-arm.right {
      right: 5px;
      transform: rotate(-25deg);
    }

    .monkey-arm.reaching-left {
      animation: armReachLeft 0.6s ease-out;
    }

    .monkey-arm.reaching-right {
      animation: armReachRight 0.6s ease-out;
    }

    .monkey-arm.reaching-up {
      animation: armReachUp 0.7s ease-out;
    }

    @keyframes armReachLeft {
      0%, 100% { transform: rotate(25deg); }
      50% { transform: rotate(-60deg) translateY(-15px); }
    }

    @keyframes armReachRight {
      0%, 100% { transform: rotate(-25deg); }
      50% { transform: rotate(60deg) translateY(-15px); }
    }

    @keyframes armReachUp {
      0%, 100% { transform: rotate(25deg); }
      50% { transform: rotate(-80deg) translateY(-25px); }
    }

    .monkey-hand {
      position: absolute;
      bottom: -5px;
      left: 50%;
      transform: translateX(-50%);
      width: 16px;
      height: 14px;
      background: #c84c32;
      border-radius: 50%;
    }

    .monkey-tail {
      position: absolute;
      width: 60px;
      height: 60px;
      border: 7px solid #c84c32;
      border-radius: 50%;
      border-top-color: transparent;
      border-left-color: transparent;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%) rotate(135deg);
    }

    /* Events */
    .event-3d {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      z-index: 12;
      opacity: 0;
      transition: opacity 0.3s, transform 0.5s;
    }

    .event-3d.visible {
      opacity: 1;
      animation: eventZoomIn 0.5s ease-out;
    }

    @keyframes eventZoomIn {
      0% { transform: translateX(-50%) scale(0.2) translateY(-50px); opacity: 0; }
      60% { transform: translateX(-50%) scale(1.1) translateY(0); opacity: 1; }
      100% { transform: translateX(-50%) scale(1) translateY(0); opacity: 1; }
    }

    /* Snake */
    #snake-event {
      bottom: 38%;
    }

    .snake-body {
      width: 120px;
      height: 30px;
      background: linear-gradient(90deg, #3a7a2a, #5a9a3a, #4a8a2a, #3a7a2a);
      border-radius: 15px;
      position: relative;
      animation: snakeMove 0.4s ease-in-out infinite;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    @keyframes snakeMove {
      0%, 100% { transform: scaleX(1) translateX(0); }
      50% { transform: scaleX(1.05) translateX(5px); }
    }

    .snake-head {
      position: absolute;
      left: -25px;
      top: -8px;
      width: 45px;
      height: 45px;
      background: radial-gradient(circle at 30% 30%, #5a9a3a, #3a7a2a);
      border-radius: 50%;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .snake-eye {
      position: absolute;
      width: 16px;
      height: 16px;
      background: radial-gradient(circle, #ff0000 0%, #aa0000 100%);
      border-radius: 50%;
      top: 10px;
      left: 12px;
      box-shadow: 0 0 15px rgba(255,0,0,0.6);
    }

    .snake-eye::after {
      content: '';
      position: absolute;
      width: 5px;
      height: 14px;
      background: #000;
      border-radius: 2px;
      top: 1px;
      left: 5px;
    }

    .snake-tongue {
      position: absolute;
      left: -20px;
      top: 18px;
      width: 25px;
      height: 5px;
      background: #ff3333;
      animation: tongueFlick 0.15s infinite;
    }

    .snake-tongue::before,
    .snake-tongue::after {
      content: '';
      position: absolute;
      left: -10px;
      width: 12px;
      height: 3px;
      background: #ff3333;
    }

    .snake-tongue::before { top: -4px; transform: rotate(-25deg); }
    .snake-tongue::after { top: 6px; transform: rotate(25deg); }

    @keyframes tongueFlick {
      0%, 100% { width: 25px; }
      50% { width: 35px; }
    }

    /* Banana tree */
    #banana-event {
      bottom: 35%;
    }

    .banana-tree {
      position: relative;
    }

    .banana-trunk {
      width: 35px;
      height: 120px;
      background: linear-gradient(90deg, #5a4020, #8a6840, #5a4020);
      border-radius: 5px;
      margin: 0 auto;
      box-shadow: -5px 0 15px rgba(0,0,0,0.3);
    }

    .banana-leaves {
      position: absolute;
      top: -50px;
      left: 50%;
      transform: translateX(-50%);
      width: 140px;
      height: 80px;
    }

    .banana-leaf {
      position: absolute;
      width: 60px;
      height: 22px;
      background: linear-gradient(to right, #2a8a3a, #4aaa5a, #2a8a3a);
      border-radius: 50%;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }

    .banana-leaf:nth-child(1) { transform: rotate(-50deg); left: 0; top: 35px; }
    .banana-leaf:nth-child(2) { transform: rotate(50deg); right: 0; top: 35px; }
    .banana-leaf:nth-child(3) { transform: rotate(-75deg); left: 20px; top: 10px; }
    .banana-leaf:nth-child(4) { transform: rotate(75deg); right: 20px; top: 10px; }
    .banana-leaf:nth-child(5) { left: 50%; transform: translateX(-50%) rotate(-5deg); top: 0; }

    .banana-bunch {
      position: absolute;
      top: 30px;
      left: 55%;
    }

    .banana-fruit {
      width: 30px;
      height: 12px;
      background: linear-gradient(to bottom, #ffe135, #ffc800);
      border-radius: 15px;
      margin: 4px 0;
      transform: rotate(-30deg);
      box-shadow: 0 0 15px rgba(255,225,53,0.5);
      animation: bananaGlow 1.5s ease-in-out infinite;
    }

    @keyframes bananaGlow {
      0%, 100% { box-shadow: 0 0 15px rgba(255,225,53,0.5); }
      50% { box-shadow: 0 0 25px rgba(255,225,53,0.8); }
    }

    /* Muddy pit */
    #pit-event {
      bottom: 30%;
    }

    .mud-pit {
      width: 180px;
      height: 50px;
      background: radial-gradient(ellipse, #6a5a4a 0%, #4a3a2a 50%, #3a2a1a 100%);
      border-radius: 50%;
      position: relative;
      box-shadow: inset 0 -10px 20px rgba(0,0,0,0.4), 0 5px 15px rgba(0,0,0,0.3);
    }

    .mud-bubble {
      position: absolute;
      width: 20px;
      height: 20px;
      background: rgba(90,70,50,0.8);
      border-radius: 50%;
      animation: bubblePop 2s infinite;
    }

    .mud-bubble:nth-child(1) { left: 30px; top: 15px; animation-delay: 0s; }
    .mud-bubble:nth-child(2) { left: 80px; top: 20px; animation-delay: 0.7s; }
    .mud-bubble:nth-child(3) { right: 30px; top: 12px; animation-delay: 1.3s; }

    @keyframes bubblePop {
      0%, 100% { transform: scale(0); opacity: 0; }
      30% { transform: scale(1); opacity: 0.8; }
      50% { transform: scale(1.3) translateY(-15px); opacity: 0.4; }
      70% { transform: scale(1.5) translateY(-25px); opacity: 0; }
    }

    /* Golden banana */
    #golden-event {
      bottom: 42%;
    }

    .golden-banana {
      width: 100px;
      height: 40px;
      background: linear-gradient(to bottom, #ffd700, #ffaa00, #ffd700);
      border-radius: 50px;
      transform: rotate(-25deg);
      box-shadow:
        0 0 40px rgba(255,215,0,0.9),
        0 0 80px rgba(255,180,0,0.6),
        0 0 120px rgba(255,150,0,0.3),
        inset 0 -5px 15px rgba(200,150,0,0.5);
      animation: goldenPulse 1s ease-in-out infinite, goldenFloat 2s ease-in-out infinite;
    }

    @keyframes goldenPulse {
      0%, 100% { box-shadow: 0 0 40px rgba(255,215,0,0.9), 0 0 80px rgba(255,180,0,0.6); }
      50% { box-shadow: 0 0 60px rgba(255,215,0,1), 0 0 120px rgba(255,180,0,0.8); }
    }

    @keyframes goldenFloat {
      0%, 100% { transform: rotate(-25deg) translateY(0); }
      50% { transform: rotate(-25deg) translateY(-15px); }
    }

    /* Friends */
    #kaa-event { bottom: 35%; }
    #baloo-event { bottom: 28%; }
    #wolves-event { bottom: 32%; }

    .kaa-snake {
      position: relative;
    }

    .kaa-body {
      width: 140px;
      height: 22px;
      background: linear-gradient(90deg, #9a8a5a, #baa86a, #9a8a5a);
      border-radius: 11px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .kaa-head {
      position: absolute;
      left: -30px;
      top: -15px;
      width: 55px;
      height: 55px;
      background: radial-gradient(circle at 40% 40%, #baa86a, #9a8a5a);
      border-radius: 50%;
    }

    .kaa-eye {
      position: absolute;
      width: 28px;
      height: 28px;
      background: radial-gradient(circle, #ffff00 0%, #cccc00 50%, #999900 100%);
      border-radius: 50%;
      top: 12px;
      left: 20px;
      animation: hypnoEye 0.6s infinite;
      box-shadow: 0 0 20px rgba(255,255,0,0.8);
    }

    @keyframes hypnoEye {
      0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(255,255,0,0.8); }
      50% { transform: scale(1.3); box-shadow: 0 0 40px rgba(255,255,0,1); }
    }

    .kaa-eye::after {
      content: '';
      position: absolute;
      width: 8px;
      height: 20px;
      background: #000;
      border-radius: 4px;
      top: 4px;
      left: 10px;
    }

    /* Baloo */
    .baloo {
      position: relative;
      width: 110px;
      height: 150px;
    }

    .baloo-body {
      position: absolute;
      width: 90px;
      height: 110px;
      background: linear-gradient(to bottom, #5a5a6a, #4a4a5a);
      border-radius: 45px 45px 35px 35px;
      bottom: 0;
      left: 10px;
      box-shadow: -8px 0 20px rgba(0,0,0,0.3);
    }

    .baloo-belly {
      position: absolute;
      width: 60px;
      height: 70px;
      background: linear-gradient(to bottom, #8a8a9a, #7a7a8a);
      border-radius: 50%;
      bottom: 15px;
      left: 25px;
    }

    .baloo-head {
      position: absolute;
      width: 75px;
      height: 65px;
      background: radial-gradient(circle at 50% 40%, #6a6a7a, #4a4a5a);
      border-radius: 50%;
      top: 0;
      left: 17px;
    }

    .baloo-ear {
      position: absolute;
      width: 25px;
      height: 25px;
      background: #5a5a6a;
      border-radius: 50%;
      top: 5px;
    }

    .baloo-ear.left { left: 18px; }
    .baloo-ear.right { right: 18px; }

    .baloo-snout {
      position: absolute;
      width: 40px;
      height: 30px;
      background: #9a9aaa;
      border-radius: 50%;
      bottom: 28px;
      left: 35px;
    }

    .baloo-nose {
      position: absolute;
      width: 18px;
      height: 12px;
      background: #2a2a3a;
      border-radius: 50%;
      bottom: 48px;
      left: 46px;
    }

    /* Wolves */
    .wolf-pack {
      display: flex;
      gap: 20px;
    }

    .wolf {
      position: relative;
      width: 70px;
      height: 60px;
    }

    .wolf-body {
      position: absolute;
      width: 55px;
      height: 40px;
      background: linear-gradient(to bottom, #6a6a7a, #5a5a6a);
      border-radius: 28px 28px 18px 18px;
      bottom: 0;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .wolf-head {
      position: absolute;
      width: 35px;
      height: 30px;
      background: #6a6a7a;
      border-radius: 18px 18px 12px 12px;
      top: 8px;
      left: 0;
    }

    .wolf-ear {
      position: absolute;
      width: 12px;
      height: 18px;
      background: #6a6a7a;
      clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
      top: -12px;
    }

    .wolf-ear.left { left: 6px; }
    .wolf-ear.right { left: 18px; }

    .wolf-eye {
      position: absolute;
      width: 8px;
      height: 8px;
      background: #aaffaa;
      border-radius: 50%;
      top: 10px;
      left: 10px;
      box-shadow: 0 0 10px #aaffaa;
      animation: wolfEyeGlow 2s infinite;
    }

    @keyframes wolfEyeGlow {
      0%, 100% { box-shadow: 0 0 10px #aaffaa; }
      50% { box-shadow: 0 0 20px #aaffaa, 0 0 30px #88ff88; }
    }

    /* Text Log */
    #text-log {
      height: 90px;
      background: linear-gradient(to bottom, rgba(0,0,0,0.95), rgba(0,0,0,0.8));
      border: 2px solid var(--gold);
      border-top: none;
      padding: 10px 15px;
      overflow-y: auto;
      font-size: 0.5rem;
      line-height: 1.7;
      flex-shrink: 0;
    }

    #text-log div {
      text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
    }

    #text-log::-webkit-scrollbar { width: 6px; }
    #text-log::-webkit-scrollbar-track { background: transparent; }
    #text-log::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 3px; }

    /* Controls */
    .controls {
      display: flex;
      gap: 8px;
      margin-top: 8px;
      flex-shrink: 0;
    }

    .controls button {
      flex: 1;
      font-family: 'Press Start 2P', cursive;
      background: linear-gradient(to bottom, #5a4a3a 0%, #3a2a1a 100%);
      color: var(--cream);
      border: 2px solid var(--gold);
      padding: 14px 8px;
      cursor: pointer;
      transition: all 0.15s;
      font-size: 0.4rem;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
    }

    .controls button:hover {
      background: linear-gradient(to bottom, var(--jade) 0%, #007a50 100%);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0,168,107,0.4);
    }

    .controls button:active {
      transform: translateY(0);
    }

    .controls button.quit-btn:hover {
      background: linear-gradient(to bottom, var(--terracotta) 0%, #8a3020 100%);
      box-shadow: 0 4px 15px rgba(200,76,50,0.4);
    }

    /* Modal */
    #minigame-modal {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(to bottom, rgba(44,36,22,0.98), rgba(30,24,14,0.98));
      border: 3px solid var(--gold);
      padding: 25px;
      z-index: 100;
      text-align: center;
      max-width: 85%;
      box-shadow: 0 0 50px rgba(0,0,0,0.8);
    }

    #minigame-modal h3 {
      color: var(--gold);
      font-size: 0.65rem;
      margin-bottom: 15px;
      text-shadow: 0 0 10px rgba(212,175,55,0.5);
    }

    #minigame-modal p {
      font-size: 0.5rem;
      margin-bottom: 18px;
      line-height: 1.8;
    }

    .minigame-options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .minigame-options button {
      font-family: 'Press Start 2P', cursive;
      background: linear-gradient(to bottom, #3a3a4a, #2a2a3a);
      color: var(--cream);
      border: 2px solid var(--jade);
      padding: 12px;
      cursor: pointer;
      font-size: 0.38rem;
      transition: all 0.15s;
    }

    .minigame-options button:hover {
      background: var(--jade);
      color: #000;
      transform: scale(1.03);
    }

    /* Game overlay */
    #game-overlay {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      z-index: 90;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    #game-overlay h2 {
      font-size: 1.1rem;
      margin-bottom: 25px;
      text-shadow: 0 0 30px currentColor;
    }

    #game-overlay.victory h2 { color: var(--gold); }
    #game-overlay.defeat h2 { color: var(--terracotta); }

    #game-overlay button {
      font-family: 'Press Start 2P', cursive;
      background: var(--jade);
      color: var(--cream);
      border: 3px solid var(--gold);
      padding: 15px 35px;
      cursor: pointer;
      font-size: 0.55rem;
      transition: all 0.15s;
    }

    #game-overlay button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(0,168,107,0.6);
    }

    .back-link {
      display: block;
      text-align: center;
      margin-top: 8px;
      color: var(--gold);
      text-decoration: none;
      font-size: 0.45rem;
      opacity: 0.8;
      transition: opacity 0.2s;
    }

    .back-link:hover { opacity: 1; color: var(--turquoise); }

    @media (max-width: 600px) {
      .hud { padding: 8px 12px; }
      .hud-item { font-size: 0.4rem; }
      .controls button { font-size: 0.32rem; padding: 12px 5px; }
      #text-log { height: 70px; font-size: 0.4rem; }
      .monkey-body-container { transform: scale(0.8); }
    }
  </style>
</head>
<body>
  <div id="game-wrapper">
    <div class="hud">
      <div class="hud-item health">HEALTH:<span id="health">100</span></div>
      <div class="hud-item bananas">BANANAS:<span id="bananas">0</span>/69</div>
      <div class="hud-item">SONGS:<span id="songs">0</span></div>
      <div class="hud-item golden">GOLDEN:<span id="golden">NO</span></div>
    </div>

    <div id="game-viewport">
      <div id="camera">
        <!-- Sky -->
        <div class="sky"></div>
        <div class="sun-rays"></div>
        <div class="fog"></div>

        <!-- Parallax backgrounds -->
        <div class="parallax-layer bg-far" id="bg-far">
          <div class="tree-far" style="left: 5%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-far" style="left: 15%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-far" style="left: 28%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-far" style="right: 28%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-far" style="right: 15%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-far" style="right: 5%;"><div class="canopy"></div><div class="trunk"></div></div>
        </div>

        <div class="parallax-layer bg-mid" id="bg-mid">
          <div class="tree-mid" style="left: 3%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-mid" style="left: 18%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-mid" style="right: 18%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-mid" style="right: 3%;"><div class="canopy"></div><div class="trunk"></div></div>
        </div>

        <div class="parallax-layer bg-near" id="bg-near">
          <div class="tree-near" style="left: -2%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-near" style="left: 12%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-near" style="right: 12%;"><div class="canopy"></div><div class="trunk"></div></div>
          <div class="tree-near" style="right: -2%;"><div class="canopy"></div><div class="trunk"></div></div>
        </div>

        <!-- Ground and path -->
        <div class="ground"></div>
        <div class="path" id="path"></div>

        <!-- Vines -->
        <div class="vines-container">
          <div class="vine vine-1"></div>
          <div class="vine vine-2"></div>
          <div class="vine vine-3"></div>
          <div class="vine vine-4"></div>
          <div class="vine vine-5"></div>
          <div class="vine vine-6"></div>
        </div>

        <!-- Events -->
        <div id="snake-event" class="event-3d">
          <div class="snake-body">
            <div class="snake-head">
              <div class="snake-eye"></div>
              <div class="snake-tongue"></div>
            </div>
          </div>
        </div>

        <div id="banana-event" class="event-3d">
          <div class="banana-tree">
            <div class="banana-leaves">
              <div class="banana-leaf"></div>
              <div class="banana-leaf"></div>
              <div class="banana-leaf"></div>
              <div class="banana-leaf"></div>
              <div class="banana-leaf"></div>
            </div>
            <div class="banana-bunch">
              <div class="banana-fruit"></div>
              <div class="banana-fruit"></div>
              <div class="banana-fruit"></div>
            </div>
            <div class="banana-trunk"></div>
          </div>
        </div>

        <div id="pit-event" class="event-3d">
          <div class="mud-pit">
            <div class="mud-bubble"></div>
            <div class="mud-bubble"></div>
            <div class="mud-bubble"></div>
          </div>
        </div>

        <div id="golden-event" class="event-3d">
          <div class="golden-banana"></div>
        </div>

        <div id="kaa-event" class="event-3d">
          <div class="kaa-snake">
            <div class="kaa-body"></div>
            <div class="kaa-head">
              <div class="kaa-eye"></div>
            </div>
          </div>
        </div>

        <div id="baloo-event" class="event-3d">
          <div class="baloo">
            <div class="baloo-body"></div>
            <div class="baloo-belly"></div>
            <div class="baloo-head">
              <div class="baloo-ear left"></div>
              <div class="baloo-ear right"></div>
              <div class="baloo-snout"></div>
              <div class="baloo-nose"></div>
            </div>
          </div>
        </div>

        <div id="wolves-event" class="event-3d">
          <div class="wolf-pack">
            <div class="wolf"><div class="wolf-body"></div><div class="wolf-head"><div class="wolf-ear left"></div><div class="wolf-ear right"></div><div class="wolf-eye"></div></div></div>
            <div class="wolf"><div class="wolf-body"></div><div class="wolf-head"><div class="wolf-ear left"></div><div class="wolf-ear right"></div><div class="wolf-eye"></div></div></div>
            <div class="wolf"><div class="wolf-body"></div><div class="wolf-head"><div class="wolf-ear left"></div><div class="wolf-ear right"></div><div class="wolf-eye"></div></div></div>
          </div>
        </div>

        <!-- Monkey -->
        <div id="monkey">
          <div class="monkey-body-container">
            <div class="monkey-head">
              <div class="monkey-ear left"><div class="monkey-ear-inner"></div></div>
              <div class="monkey-ear right"><div class="monkey-ear-inner"></div></div>
            </div>
            <div class="monkey-arm left"><div class="monkey-hand"></div></div>
            <div class="monkey-arm right"><div class="monkey-hand"></div></div>
            <div class="monkey-body"></div>
            <div class="monkey-tail"></div>
          </div>
        </div>

        <!-- Modal -->
        <div id="minigame-modal">
          <h3>GOLDEN BANANA CHALLENGE!</h3>
          <p>Riddle: What can you catch but not throw?</p>
          <div class="minigame-options">
            <button onclick="game.answerRiddle('A')">A: A ball</button>
            <button onclick="game.answerRiddle('B')">B: A cold</button>
            <button onclick="game.answerRiddle('C')">C: A fish</button>
            <button onclick="game.answerRiddle('D')">D: A shadow</button>
          </div>
        </div>

        <!-- Overlay -->
        <div id="game-overlay">
          <h2 id="overlay-title"></h2>
          <button onclick="game.restart()">PLAY AGAIN</button>
        </div>
      </div>
    </div>

    <div id="text-log"></div>

    <div class="controls">
      <button onclick="game.swing('left')">SWING LEFT</button>
      <button onclick="game.swing('straight')">FORWARD</button>
      <button onclick="game.swing('right')">SWING RIGHT</button>
      <button id="climb-btn" onclick="game.swing('up')" style="display:none;">CLIMB UP</button>
      <button class="quit-btn" onclick="game.quit()">QUIT</button>
    </div>

    <a href="index.html" class="back-link">< BACK TO HOME</a>
  </div>

  <script>
    class Game {
      constructor() {
        this.init();
        this.setupKeyboard();
      }

      init() {
        this.health = 100;
        this.bananas = 0;
        this.jungleSongs = 0;
        this.hasGoldenBanana = false;
        this.canClimbUp = false;
        this.gameOver = false;
        this.isAnimating = false;

        this.events = [
          ...Array(6).fill(['snake', 'banana_tree', 'muddy_pit', 'banana_stash', 'nothing']).flat(),
          ...Array(3).fill('meet_friend'),
          'golden_banana'
        ];

        this.updateUI();
        this.hideAllEvents();
        this.log("Welcome to SWINGER MONKEY!");
        this.log("Collect 69 bananas + the Golden Banana to save the jungle!");
      }

      setupKeyboard() {
        document.addEventListener('keydown', (e) => {
          if (this.gameOver || this.isAnimating) return;
          const key = e.key.toLowerCase();
          if (key === 'l' || key === 'arrowleft') this.swing('left');
          else if (key === 's' || key === 'arrowup') this.swing('straight');
          else if (key === 'r' || key === 'arrowright') this.swing('right');
          else if (key === 'u' && this.canClimbUp) this.swing('up');
          else if (key === 'q' || key === 'escape') this.quit();
        });
      }

      log(text) {
        const logEl = document.getElementById('text-log');
        logEl.innerHTML += `<div>> ${text}</div>`;
        logEl.scrollTop = logEl.scrollHeight;
      }

      updateUI() {
        document.getElementById('health').textContent = this.health;
        document.getElementById('bananas').textContent = this.bananas;
        document.getElementById('songs').textContent = this.jungleSongs;
        const goldenEl = document.getElementById('golden');
        goldenEl.textContent = this.hasGoldenBanana ? 'YES' : 'NO';
        goldenEl.className = this.hasGoldenBanana ? 'yes' : '';
        document.getElementById('climb-btn').style.display = this.canClimbUp ? 'block' : 'none';
      }

      hideAllEvents() {
        document.querySelectorAll('.event-3d').forEach(el => el.classList.remove('visible'));
      }

      showEvent(eventId) {
        this.hideAllEvents();
        const el = document.getElementById(eventId);
        if (el) el.classList.add('visible');
      }

      animateScene(direction) {
        return new Promise(resolve => {
          this.isAnimating = true;

          const camera = document.getElementById('camera');
          const monkey = document.getElementById('monkey');
          const leftArm = document.querySelector('.monkey-arm.left');
          const rightArm = document.querySelector('.monkey-arm.right');
          const bgFar = document.getElementById('bg-far');
          const bgMid = document.getElementById('bg-mid');
          const bgNear = document.getElementById('bg-near');
          const path = document.getElementById('path');

          // Reset classes
          camera.classList.remove('swing-left', 'swing-right', 'swing-forward', 'shake');
          monkey.classList.remove('swing-left', 'swing-right', 'swing-forward');
          leftArm.classList.remove('reaching-left', 'reaching-right', 'reaching-up');
          rightArm.classList.remove('reaching-left', 'reaching-right', 'reaching-up');
          bgFar.classList.remove('scrolling');
          bgMid.classList.remove('scrolling');
          bgNear.classList.remove('scrolling');
          path.classList.remove('scrolling');

          // Force reflow
          void camera.offsetWidth;

          // Apply animations based on direction
          if (direction === 'left') {
            camera.classList.add('swing-left');
            monkey.classList.add('swing-left');
            leftArm.classList.add('reaching-left');
            rightArm.classList.add('reaching-left');
          } else if (direction === 'right') {
            camera.classList.add('swing-right');
            monkey.classList.add('swing-right');
            leftArm.classList.add('reaching-right');
            rightArm.classList.add('reaching-right');
          } else {
            camera.classList.add('swing-forward');
            monkey.classList.add('swing-forward');
            leftArm.classList.add('reaching-up');
            rightArm.classList.add('reaching-up');
          }

          // Parallax scrolling
          bgFar.classList.add('scrolling');
          bgMid.classList.add('scrolling');
          bgNear.classList.add('scrolling');
          path.classList.add('scrolling');

          setTimeout(() => {
            this.isAnimating = false;
            resolve();
          }, 700);
        });
      }

      shakeCamera() {
        const camera = document.getElementById('camera');
        camera.classList.remove('shake');
        void camera.offsetWidth;
        camera.classList.add('shake');
      }

      async swing(direction) {
        if (this.gameOver || this.isAnimating) return;

        this.canClimbUp = false;
        this.updateUI();

        await this.animateScene(direction);

        const dirText = direction === 'straight' ? 'FORWARD' : direction.toUpperCase();
        this.log(`Swinging ${dirText}...`);

        const event = this.events[Math.floor(Math.random() * this.events.length)];

        switch(event) {
          case 'snake':
            this.showEvent('snake-event');
            if (this.jungleSongs > 0) {
              this.jungleSongs--;
              this.log("SNAKE! Your jungle song scares it away!");
            } else {
              const damage = Math.floor(Math.random() * 16) + 10;
              this.health -= damage;
              this.shakeCamera();
              this.log(`SNAKE BITE! -${damage} health!`);
            }
            break;

          case 'banana_tree':
            this.showEvent('banana-event');
            const reward = Math.floor(Math.random() * 5) + 1;
            this.bananas += reward;
            this.log(`Banana tree! +${reward} bananas!`);
            break;

          case 'banana_stash':
            this.showEvent('banana-event');
            const stash = Math.floor(Math.random() * 11) + 5;
            this.bananas += stash;
            this.log(`Hidden stash! +${stash} bananas!`);
            break;

          case 'muddy_pit':
            this.showEvent('pit-event');
            const pitDmg = Math.floor(Math.random() * 11) + 5;
            this.health -= pitDmg;
            this.shakeCamera();
            this.log(`Fell in mud! -${pitDmg} health!`);
            break;

          case 'golden_banana':
            if (!this.hasGoldenBanana) {
              this.showEvent('golden-event');
              this.log("THE GOLDEN BANANA! Answer the riddle!");
              document.getElementById('minigame-modal').style.display = 'block';
              return;
            } else {
              this.log("Swinging deeper into the jungle...");
            }
            break;

          case 'meet_friend':
            const friends = ['kaa', 'baloo', 'wolves'];
            const friend = friends[Math.floor(Math.random() * friends.length)];

            if (friend === 'kaa') {
              this.showEvent('kaa-event');
              this.log("KAA! Shows you how to climb higher!");
              this.canClimbUp = true;
            } else if (friend === 'baloo') {
              this.showEvent('baloo-event');
              this.jungleSongs++;
              this.log("BALOO! Teaches you a jungle song! +1 Song");
            } else {
              this.showEvent('wolves-event');
              this.health = Math.min(100, this.health + 15);
              this.log("WOLF PACK! They protect you! +15 health!");
            }
            break;

          default:
            this.hideAllEvents();
            this.log("The jungle stretches on...");
        }

        this.updateUI();
        this.checkGameState();
      }

      answerRiddle(answer) {
        document.getElementById('minigame-modal').style.display = 'none';

        if (answer === 'B') {
          this.hasGoldenBanana = true;
          this.bananas += 20;
          this.log("CORRECT! The Golden Banana is yours! +20 bananas!");
        } else {
          this.log("Wrong! The Golden Banana vanishes into the mist...");
        }

        this.hideAllEvents();
        this.updateUI();
        this.checkGameState();
      }

      checkGameState() {
        if (this.health <= 0) {
          this.gameOver = true;
          const overlay = document.getElementById('game-overlay');
          overlay.className = 'defeat';
          overlay.style.display = 'flex';
          document.getElementById('overlay-title').textContent = 'GAME OVER';
          this.log("The jungle claims another soul...");
        } else if (this.bananas >= 69 && this.hasGoldenBanana) {
          this.gameOver = true;
          const overlay = document.getElementById('game-overlay');
          overlay.className = 'victory';
          overlay.style.display = 'flex';
          document.getElementById('overlay-title').textContent = 'VICTORY!';
          this.log("YOU SAVED THE JUNGLE!");
        }
      }

      quit() {
        if (confirm('Quit game?')) {
          window.location.href = 'index.html';
        }
      }

      restart() {
        document.getElementById('game-overlay').style.display = 'none';
        document.getElementById('text-log').innerHTML = '';
        this.init();
      }
    }

    const game = new Game();
  </script>
</body>
</html>

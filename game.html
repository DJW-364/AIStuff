<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Swinger Monkey - So Easy Monkey Can Do It</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üêµ</text></svg>">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      image-rendering: pixelated;
      -webkit-font-smoothing: none;
    }

    :root {
      /* Atari 2600 style limited palette */
      --sky: #1a4a1a;
      --ground: #4a7a2a;
      --ground-dark: #2a5a1a;
      --tree-trunk: #6a3a1a;
      --tree-dark: #4a2a0a;
      --vine: #2a8a2a;
      --vine-dark: #1a6a1a;
      --monkey-orange: #da6a2a;
      --monkey-dark: #aa4a1a;
      --monkey-light: #ea9a6a;
      --snake-green: #4a9a2a;
      --snake-dark: #2a7a1a;
      --banana-yellow: #eaea2a;
      --banana-dark: #baba1a;
      --golden: #fada2a;
      --mud-brown: #5a4a3a;
      --mud-dark: #3a2a1a;
      --hud-bg: #1a1a1a;
      --hud-border: #4a4a4a;
      --text-green: #2aea2a;
      --text-red: #ea2a2a;
      --text-yellow: #eaea2a;
      --white: #eaeaea;
      --black: #0a0a0a;
    }

    body {
      font-family: 'Press Start 2P', monospace;
      background: var(--black);
      height: 100vh;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #game-container {
      width: 100%;
      max-width: 800px;
      height: 100vh;
      max-height: 650px;
      display: flex;
      flex-direction: column;
      background: var(--black);
      position: relative;
      border: 4px solid var(--hud-border);
    }

    /* Scanline effect for CRT look */
    #game-container::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(0,0,0,0.15) 0px,
        rgba(0,0,0,0.15) 2px,
        transparent 2px,
        transparent 4px
      );
      pointer-events: none;
      z-index: 1000;
    }

    /* 8-bit Viewport */
    #viewport {
      flex: 1;
      position: relative;
      overflow: hidden;
      background: var(--sky);
    }

    /* Pixelated sky bands */
    .sky-band {
      position: absolute;
      left: 0;
      width: 100%;
      height: 20%;
    }
    .sky-band:nth-child(1) { top: 0; background: #0a2a0a; }
    .sky-band:nth-child(2) { top: 20%; background: #1a3a1a; }
    .sky-band:nth-child(3) { top: 40%; background: #2a4a2a; }

    /* 8-bit Ground - flat colored strips */
    .ground-8bit {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 45%;
      background: repeating-linear-gradient(
        to bottom,
        var(--ground) 0px,
        var(--ground) 16px,
        var(--ground-dark) 16px,
        var(--ground-dark) 32px
      );
    }

    /* 8-bit Path - simple triangle perspective */
    .path-8bit {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 120px solid transparent;
      border-right: 120px solid transparent;
      border-bottom: 200px solid var(--mud-brown);
    }

    /* 8-bit Tree trunks - simple rectangles */
    .tree-8bit {
      position: absolute;
      bottom: 45%;
      width: 24px;
      background: var(--tree-trunk);
      border: 4px solid var(--tree-dark);
    }

    .tree-8bit.l1 { left: 8%; height: 55%; }
    .tree-8bit.l2 { left: 20%; height: 45%; width: 20px; }
    .tree-8bit.r1 { right: 8%; height: 55%; }
    .tree-8bit.r2 { right: 20%; height: 45%; width: 20px; }

    .tree-8bit.moving {
      animation: tree8bitMove 0.4s steps(4);
    }

    @keyframes tree8bitMove {
      0% { transform: scale(0.7); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    /* 8-bit Vines - simple lines */
    .vine-8bit {
      position: absolute;
      top: 0;
      width: 8px;
      background: var(--vine);
      border: 2px solid var(--vine-dark);
    }

    .vine-8bit::after {
      content: '';
      position: absolute;
      bottom: -12px;
      left: -4px;
      width: 0;
      height: 0;
      border-left: 8px solid transparent;
      border-right: 8px solid transparent;
      border-top: 12px solid var(--vine);
    }

    .vine-8bit.v1 { left: 12%; height: 30%; }
    .vine-8bit.v2 { left: 28%; height: 22%; }
    .vine-8bit.v3 { left: 50%; transform: translateX(-50%); height: 35%; }
    .vine-8bit.v4 { right: 28%; height: 25%; }
    .vine-8bit.v5 { right: 12%; height: 28%; }

    .vine-8bit.swing {
      animation: vineSwing8bit 0.5s steps(3);
    }

    @keyframes vineSwing8bit {
      0% { transform: translateX(0); }
      33% { transform: translateX(-8px); }
      66% { transform: translateX(8px); }
      100% { transform: translateX(0); }
    }

    /* Event objects - 8-bit style */
    .event-8bit {
      position: absolute;
      left: 50%;
      transform: translateX(-50%) scale(0);
      z-index: 20;
      opacity: 0;
    }

    .event-8bit.visible {
      opacity: 1;
      transform: translateX(-50%) scale(1);
      animation: eventPop8bit 0.3s steps(3);
    }

    @keyframes eventPop8bit {
      0% { transform: translateX(-50%) scale(0); }
      50% { transform: translateX(-50%) scale(1.2); }
      100% { transform: translateX(-50%) scale(1); }
    }

    /* 8-bit Snake */
    #snake-8bit {
      top: 25%;
    }

    .snake-body-8bit {
      display: flex;
      align-items: center;
    }

    .snake-segment {
      width: 20px;
      height: 20px;
      background: var(--snake-green);
      border: 3px solid var(--snake-dark);
    }

    .snake-head-8bit {
      width: 28px;
      height: 28px;
      background: var(--snake-green);
      border: 3px solid var(--snake-dark);
      position: relative;
    }

    .snake-eye-8bit {
      position: absolute;
      width: 8px;
      height: 8px;
      background: var(--text-red);
      top: 6px;
      left: 6px;
    }

    .snake-tongue-8bit {
      position: absolute;
      left: -16px;
      top: 10px;
      width: 16px;
      height: 4px;
      background: var(--text-red);
    }

    .snake-tongue-8bit::before,
    .snake-tongue-8bit::after {
      content: '';
      position: absolute;
      left: -8px;
      width: 8px;
      height: 4px;
      background: var(--text-red);
    }
    .snake-tongue-8bit::before { top: -4px; }
    .snake-tongue-8bit::after { top: 4px; }

    /* 8-bit Banana Tree */
    #banana-8bit {
      top: 18%;
    }

    .banana-tree-8bit {
      position: relative;
    }

    .btree-trunk {
      width: 20px;
      height: 100px;
      background: var(--tree-trunk);
      border: 3px solid var(--tree-dark);
      margin: 0 auto;
    }

    .btree-leaves {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
    }

    .btree-leaf {
      width: 48px;
      height: 12px;
      background: var(--vine);
      border: 2px solid var(--vine-dark);
      position: absolute;
    }

    .btree-leaf:nth-child(1) { transform: rotate(-45deg); left: -40px; top: 20px; }
    .btree-leaf:nth-child(2) { transform: rotate(45deg); left: 0; top: 20px; }
    .btree-leaf:nth-child(3) { transform: rotate(-20deg); left: -30px; top: 0; }
    .btree-leaf:nth-child(4) { transform: rotate(20deg); left: -10px; top: 0; }

    .banana-bunch-8bit {
      position: absolute;
      top: 30px;
      left: 30px;
    }

    .banana-pixel {
      width: 24px;
      height: 10px;
      background: var(--banana-yellow);
      border: 2px solid var(--banana-dark);
      margin: 4px 0;
      transform: skewX(-15deg);
    }

    /* 8-bit Mud Pit */
    #pit-8bit {
      top: 35%;
    }

    .mud-pit-8bit {
      width: 140px;
      height: 40px;
      background: var(--mud-brown);
      border: 4px solid var(--mud-dark);
      position: relative;
    }

    .mud-bubble-8bit {
      position: absolute;
      width: 12px;
      height: 12px;
      background: var(--mud-dark);
      animation: mudBubble8bit 1s steps(4) infinite;
    }

    .mud-bubble-8bit:nth-child(1) { left: 20px; top: 10px; animation-delay: 0s; }
    .mud-bubble-8bit:nth-child(2) { left: 60px; top: 14px; animation-delay: 0.3s; }
    .mud-bubble-8bit:nth-child(3) { right: 20px; top: 8px; animation-delay: 0.6s; }

    @keyframes mudBubble8bit {
      0%, 100% { transform: translateY(0); opacity: 1; }
      50% { transform: translateY(-16px); opacity: 0.5; }
      75% { opacity: 0; }
    }

    /* 8-bit Golden Banana */
    #golden-8bit {
      top: 28%;
    }

    .golden-banana-8bit {
      width: 64px;
      height: 24px;
      background: var(--golden);
      border: 4px solid var(--banana-dark);
      animation: goldenFlash8bit 0.5s steps(2) infinite;
    }

    @keyframes goldenFlash8bit {
      0%, 100% { background: var(--golden); box-shadow: 0 0 0 4px var(--banana-yellow); }
      50% { background: var(--banana-yellow); box-shadow: 0 0 0 8px var(--golden); }
    }

    /* 8-bit Friends */
    #kaa-8bit { top: 25%; }
    #baloo-8bit { top: 20%; }
    #wolves-8bit { top: 30%; }

    /* Kaa */
    .kaa-body-8bit {
      display: flex;
      align-items: center;
    }

    .kaa-seg {
      width: 16px;
      height: 16px;
      background: #baba6a;
      border: 2px solid #8a8a4a;
    }

    .kaa-head-8bit {
      width: 32px;
      height: 32px;
      background: #baba6a;
      border: 3px solid #8a8a4a;
      position: relative;
    }

    .kaa-eye-8bit {
      position: absolute;
      width: 16px;
      height: 16px;
      background: var(--banana-yellow);
      border: 2px solid #8a8a1a;
      top: 6px;
      left: 10px;
      animation: kaaEye8bit 0.3s steps(2) infinite;
    }

    @keyframes kaaEye8bit {
      0%, 100% { background: var(--banana-yellow); }
      50% { background: var(--white); }
    }

    /* Baloo */
    .baloo-8bit {
      position: relative;
      width: 80px;
      height: 100px;
    }

    .baloo-body-8bit {
      position: absolute;
      bottom: 0;
      left: 10px;
      width: 60px;
      height: 70px;
      background: #5a5a6a;
      border: 4px solid #3a3a4a;
    }

    .baloo-belly-8bit {
      position: absolute;
      bottom: 8px;
      left: 20px;
      width: 40px;
      height: 50px;
      background: #8a8a9a;
      border: 3px solid #6a6a7a;
    }

    .baloo-head-8bit {
      position: absolute;
      top: 0;
      left: 15px;
      width: 50px;
      height: 45px;
      background: #5a5a6a;
      border: 4px solid #3a3a4a;
    }

    .baloo-ear-8bit {
      position: absolute;
      width: 16px;
      height: 16px;
      background: #5a5a6a;
      border: 3px solid #3a3a4a;
      top: 0;
    }

    .baloo-ear-8bit.left { left: 12px; }
    .baloo-ear-8bit.right { right: 12px; }

    .baloo-snout-8bit {
      position: absolute;
      bottom: 35px;
      left: 25px;
      width: 30px;
      height: 20px;
      background: #9a9aaa;
      border: 3px solid #7a7a8a;
    }

    /* Wolves */
    .wolves-8bit {
      display: flex;
      gap: 16px;
    }

    .wolf-8bit {
      width: 40px;
      height: 36px;
      position: relative;
    }

    .wolf-body-8bit {
      position: absolute;
      bottom: 0;
      width: 36px;
      height: 24px;
      background: #6a6a7a;
      border: 3px solid #4a4a5a;
    }

    .wolf-head-8bit {
      position: absolute;
      top: 4px;
      left: 0;
      width: 24px;
      height: 20px;
      background: #6a6a7a;
      border: 3px solid #4a4a5a;
    }

    .wolf-ear-8bit {
      position: absolute;
      width: 8px;
      height: 12px;
      background: #6a6a7a;
      border: 2px solid #4a4a5a;
      top: -10px;
    }

    .wolf-ear-8bit.left { left: 2px; }
    .wolf-ear-8bit.right { left: 12px; }

    .wolf-eye-8bit {
      position: absolute;
      width: 6px;
      height: 6px;
      background: var(--text-green);
      top: 6px;
      left: 8px;
      animation: wolfEye8bit 1s steps(2) infinite;
    }

    @keyframes wolfEye8bit {
      0%, 100% { background: var(--text-green); }
      50% { background: #8afa8a; }
    }

    /* 8-BIT MONKEY HANDS */
    .monkey-hands-8bit {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 45%;
      z-index: 30;
      pointer-events: none;
    }

    .hand-8bit {
      position: absolute;
      bottom: -10px;
    }

    .hand-8bit.left { left: 8%; }
    .hand-8bit.right { right: 8%; transform: scaleX(-1); }

    /* Pixelated hand made of blocks */
    .hand-arm-8bit {
      width: 32px;
      height: 100px;
      background: var(--monkey-orange);
      border: 4px solid var(--monkey-dark);
    }

    .hand-palm-8bit {
      position: absolute;
      top: -40px;
      left: -12px;
      width: 56px;
      height: 48px;
      background: var(--monkey-orange);
      border: 4px solid var(--monkey-dark);
    }

    .hand-palm-inner-8bit {
      position: absolute;
      top: 12px;
      left: 10px;
      width: 32px;
      height: 28px;
      background: var(--monkey-light);
      border: 3px solid var(--monkey-orange);
    }

    .finger-8bit {
      position: absolute;
      background: var(--monkey-orange);
      border: 3px solid var(--monkey-dark);
    }

    .finger-8bit.f1 { width: 12px; height: 32px; top: -60px; left: 0; }
    .finger-8bit.f2 { width: 12px; height: 40px; top: -68px; left: 14px; }
    .finger-8bit.f3 { width: 12px; height: 38px; top: -66px; left: 28px; }
    .finger-8bit.f4 { width: 10px; height: 28px; top: -54px; left: 40px; }
    .finger-8bit.thumb { width: 14px; height: 24px; top: 0px; left: -14px; }

    /* Hand animations - 8-bit stepped */
    .hand-8bit.left.swing-left {
      animation: handLeft8bit 0.5s steps(4);
    }

    .hand-8bit.right.swing-right {
      animation: handRight8bit 0.5s steps(4);
    }

    .hand-8bit.swing-forward {
      animation: handForward8bit 0.5s steps(4);
    }

    @keyframes handLeft8bit {
      0% { transform: translateY(0); }
      25% { transform: translateY(-60px) translateX(20px); }
      50% { transform: translateY(-40px) translateX(10px); }
      100% { transform: translateY(0); }
    }

    @keyframes handRight8bit {
      0% { transform: scaleX(-1) translateY(0); }
      25% { transform: scaleX(-1) translateY(-60px) translateX(-20px); }
      50% { transform: scaleX(-1) translateY(-40px) translateX(-10px); }
      100% { transform: scaleX(-1) translateY(0); }
    }

    @keyframes handForward8bit {
      0% { transform: translateY(0) scale(1); }
      25% { transform: translateY(-80px) scale(0.7); }
      50% { transform: translateY(-50px) scale(0.8); }
      100% { transform: translateY(0) scale(1); }
    }

    /* Damage flash */
    .damage-flash {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--text-red);
      z-index: 40;
      opacity: 0;
      pointer-events: none;
    }

    .damage-flash.active {
      animation: damageFlash8bit 0.3s steps(3);
    }

    @keyframes damageFlash8bit {
      0% { opacity: 0.7; }
      33% { opacity: 0; }
      66% { opacity: 0.5; }
      100% { opacity: 0; }
    }

    /* Screen shake */
    #viewport.shake {
      animation: shake8bit 0.3s steps(4);
    }

    @keyframes shake8bit {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(-8px, 4px); }
      50% { transform: translate(8px, -4px); }
      75% { transform: translate(-4px, 8px); }
    }

    /* ==================== 8-BIT HUD ==================== */
    .hud-8bit {
      height: 80px;
      background: var(--hud-bg);
      border-top: 4px solid var(--hud-border);
      display: flex;
      justify-content: space-between;
      align-items: stretch;
    }

    .hud-section-8bit {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 8px 12px;
      min-width: 80px;
      border-right: 4px solid var(--hud-border);
    }

    .hud-section-8bit:last-child {
      border-right: none;
      border-left: 4px solid var(--hud-border);
    }

    .hud-value-8bit {
      font-size: 1.4rem;
      line-height: 1;
    }

    .hud-value-8bit.health { color: var(--text-red); }
    .hud-value-8bit.bananas { color: var(--text-yellow); }
    .hud-value-8bit.songs { color: var(--text-green); }
    .hud-value-8bit.golden { color: #6a6a6a; }
    .hud-value-8bit.golden.yes {
      color: var(--golden);
      animation: goldenText8bit 0.5s steps(2) infinite;
    }

    @keyframes goldenText8bit {
      0%, 100% { color: var(--golden); }
      50% { color: var(--text-yellow); }
    }

    .hud-label-8bit {
      font-size: 0.4rem;
      color: var(--white);
      margin-top: 4px;
    }

    /* 8-bit Monkey face */
    .hud-center-8bit {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .monkey-face-8bit {
      width: 56px;
      height: 56px;
      background: var(--monkey-orange);
      border: 4px solid var(--monkey-dark);
      position: relative;
    }

    .mf-ear-8bit {
      position: absolute;
      width: 16px;
      height: 16px;
      background: var(--monkey-orange);
      border: 3px solid var(--monkey-dark);
      top: 4px;
    }

    .mf-ear-8bit.left { left: -12px; }
    .mf-ear-8bit.right { right: -12px; }

    .mf-ear-inner-8bit {
      position: absolute;
      width: 8px;
      height: 8px;
      background: var(--monkey-light);
      top: 2px;
      left: 2px;
    }

    .mf-eye-8bit {
      position: absolute;
      width: 10px;
      height: 10px;
      background: var(--white);
      top: 14px;
    }

    .mf-eye-8bit.left { left: 8px; }
    .mf-eye-8bit.right { right: 8px; }

    .mf-eye-8bit::after {
      content: '';
      position: absolute;
      width: 6px;
      height: 6px;
      background: var(--black);
      top: 2px;
      left: 2px;
    }

    .mf-snout-8bit {
      position: absolute;
      width: 28px;
      height: 20px;
      background: var(--monkey-light);
      border: 3px solid var(--monkey-orange);
      bottom: 6px;
      left: 50%;
      transform: translateX(-50%);
    }

    .mf-nose-8bit {
      position: absolute;
      width: 8px;
      height: 6px;
      background: var(--monkey-dark);
      bottom: 22px;
      left: 50%;
      transform: translateX(-50%);
    }

    .mf-mouth-8bit {
      position: absolute;
      width: 16px;
      height: 6px;
      background: var(--monkey-dark);
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
    }

    /* Hurt face */
    .monkey-face-8bit.hurt .mf-eye-8bit {
      height: 4px;
      top: 17px;
    }

    .monkey-face-8bit.hurt .mf-eye-8bit::after {
      display: none;
    }

    .monkey-face-8bit.hurt .mf-mouth-8bit {
      width: 20px;
      height: 12px;
      background: #3a1a1a;
      bottom: 8px;
    }

    /* Controls */
    .controls-8bit {
      display: flex;
      gap: 4px;
      padding: 6px;
      background: var(--black);
    }

    .controls-8bit button {
      flex: 1;
      font-family: 'Press Start 2P', monospace;
      background: var(--hud-bg);
      color: var(--white);
      border: 4px solid var(--hud-border);
      padding: 10px 6px;
      cursor: pointer;
      font-size: 0.4rem;
      transition: none;
    }

    .controls-8bit button:hover {
      background: var(--text-green);
      color: var(--black);
    }

    .controls-8bit button:active {
      background: var(--vine-dark);
    }

    .controls-8bit button.quit-btn:hover {
      background: var(--text-red);
    }

    /* Text log */
    #text-log {
      height: 55px;
      background: var(--black);
      border-top: 4px solid var(--hud-border);
      padding: 6px 10px;
      overflow-y: auto;
      font-size: 0.4rem;
      color: var(--text-green);
      line-height: 1.5;
    }

    #text-log::-webkit-scrollbar { width: 8px; }
    #text-log::-webkit-scrollbar-track { background: var(--black); }
    #text-log::-webkit-scrollbar-thumb { background: var(--hud-border); }

    /* Modal */
    #minigame-modal {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--black);
      border: 4px solid var(--golden);
      padding: 20px;
      z-index: 100;
      text-align: center;
    }

    #minigame-modal h3 {
      color: var(--golden);
      font-size: 0.6rem;
      margin-bottom: 12px;
    }

    #minigame-modal p {
      font-size: 0.45rem;
      color: var(--white);
      margin-bottom: 16px;
    }

    .minigame-options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    .minigame-options button {
      font-family: 'Press Start 2P', monospace;
      background: var(--hud-bg);
      color: var(--white);
      border: 3px solid var(--text-green);
      padding: 10px;
      cursor: pointer;
      font-size: 0.35rem;
    }

    .minigame-options button:hover {
      background: var(--text-green);
      color: var(--black);
    }

    /* Game overlay */
    #game-overlay {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10,10,10,0.95);
      z-index: 90;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    #game-overlay h2 {
      font-size: 1rem;
      margin-bottom: 20px;
    }

    #game-overlay.victory h2 { color: var(--golden); }
    #game-overlay.defeat h2 { color: var(--text-red); }

    #game-overlay button {
      font-family: 'Press Start 2P', monospace;
      background: var(--text-green);
      color: var(--black);
      border: 4px solid var(--vine-dark);
      padding: 12px 24px;
      cursor: pointer;
      font-size: 0.5rem;
    }

    #game-overlay button:hover {
      background: var(--vine);
    }

    .back-link {
      display: block;
      text-align: center;
      padding: 6px;
      background: var(--black);
      color: var(--text-green);
      text-decoration: none;
      font-size: 0.35rem;
    }

    .back-link:hover {
      color: var(--text-yellow);
    }

    @media (max-width: 600px) {
      .hud-8bit { height: 65px; }
      .hud-value-8bit { font-size: 1rem; }
      .hud-label-8bit { font-size: 0.3rem; }
      .monkey-face-8bit { width: 44px; height: 44px; }
      .controls-8bit button { font-size: 0.3rem; padding: 8px 4px; }
      #text-log { height: 45px; font-size: 0.35rem; }
      .hand-8bit { transform: scale(0.7); }
      .hand-8bit.right { transform: scale(0.7) scaleX(-1); }
    }
  </style>
</head>
<body>
  <div id="game-container">
    <!-- 8-bit Viewport -->
    <div id="viewport">
      <!-- Sky bands -->
      <div class="sky-band"></div>
      <div class="sky-band"></div>
      <div class="sky-band"></div>

      <!-- Ground -->
      <div class="ground-8bit"></div>
      <div class="path-8bit"></div>

      <!-- Trees -->
      <div class="tree-8bit l1" id="tree-l1"></div>
      <div class="tree-8bit l2" id="tree-l2"></div>
      <div class="tree-8bit r1" id="tree-r1"></div>
      <div class="tree-8bit r2" id="tree-r2"></div>

      <!-- Vines -->
      <div class="vine-8bit v1" id="vine1"></div>
      <div class="vine-8bit v2" id="vine2"></div>
      <div class="vine-8bit v3" id="vine3"></div>
      <div class="vine-8bit v4" id="vine4"></div>
      <div class="vine-8bit v5" id="vine5"></div>

      <!-- Events -->
      <div id="snake-8bit" class="event-8bit">
        <div class="snake-body-8bit">
          <div class="snake-head-8bit">
            <div class="snake-eye-8bit"></div>
            <div class="snake-tongue-8bit"></div>
          </div>
          <div class="snake-segment"></div>
          <div class="snake-segment"></div>
          <div class="snake-segment"></div>
          <div class="snake-segment"></div>
          <div class="snake-segment"></div>
        </div>
      </div>

      <div id="banana-8bit" class="event-8bit">
        <div class="banana-tree-8bit">
          <div class="btree-leaves">
            <div class="btree-leaf"></div>
            <div class="btree-leaf"></div>
            <div class="btree-leaf"></div>
            <div class="btree-leaf"></div>
          </div>
          <div class="banana-bunch-8bit">
            <div class="banana-pixel"></div>
            <div class="banana-pixel"></div>
            <div class="banana-pixel"></div>
          </div>
          <div class="btree-trunk"></div>
        </div>
      </div>

      <div id="pit-8bit" class="event-8bit">
        <div class="mud-pit-8bit">
          <div class="mud-bubble-8bit"></div>
          <div class="mud-bubble-8bit"></div>
          <div class="mud-bubble-8bit"></div>
        </div>
      </div>

      <div id="golden-8bit" class="event-8bit">
        <div class="golden-banana-8bit"></div>
      </div>

      <div id="kaa-8bit" class="event-8bit">
        <div class="kaa-body-8bit">
          <div class="kaa-head-8bit">
            <div class="kaa-eye-8bit"></div>
          </div>
          <div class="kaa-seg"></div>
          <div class="kaa-seg"></div>
          <div class="kaa-seg"></div>
          <div class="kaa-seg"></div>
          <div class="kaa-seg"></div>
          <div class="kaa-seg"></div>
        </div>
      </div>

      <div id="baloo-8bit" class="event-8bit">
        <div class="baloo-8bit">
          <div class="baloo-body-8bit"></div>
          <div class="baloo-belly-8bit"></div>
          <div class="baloo-head-8bit">
            <div class="baloo-ear-8bit left"></div>
            <div class="baloo-ear-8bit right"></div>
            <div class="baloo-snout-8bit"></div>
          </div>
        </div>
      </div>

      <div id="wolves-8bit" class="event-8bit">
        <div class="wolves-8bit">
          <div class="wolf-8bit"><div class="wolf-body-8bit"></div><div class="wolf-head-8bit"><div class="wolf-ear-8bit left"></div><div class="wolf-ear-8bit right"></div><div class="wolf-eye-8bit"></div></div></div>
          <div class="wolf-8bit"><div class="wolf-body-8bit"></div><div class="wolf-head-8bit"><div class="wolf-ear-8bit left"></div><div class="wolf-ear-8bit right"></div><div class="wolf-eye-8bit"></div></div></div>
          <div class="wolf-8bit"><div class="wolf-body-8bit"></div><div class="wolf-head-8bit"><div class="wolf-ear-8bit left"></div><div class="wolf-ear-8bit right"></div><div class="wolf-eye-8bit"></div></div></div>
        </div>
      </div>

      <!-- 8-bit Monkey Hands -->
      <div class="monkey-hands-8bit">
        <div class="hand-8bit left" id="hand-left">
          <div class="hand-arm-8bit"></div>
          <div class="hand-palm-8bit">
            <div class="hand-palm-inner-8bit"></div>
          </div>
          <div class="finger-8bit f1"></div>
          <div class="finger-8bit f2"></div>
          <div class="finger-8bit f3"></div>
          <div class="finger-8bit f4"></div>
          <div class="finger-8bit thumb"></div>
        </div>
        <div class="hand-8bit right" id="hand-right">
          <div class="hand-arm-8bit"></div>
          <div class="hand-palm-8bit">
            <div class="hand-palm-inner-8bit"></div>
          </div>
          <div class="finger-8bit f1"></div>
          <div class="finger-8bit f2"></div>
          <div class="finger-8bit f3"></div>
          <div class="finger-8bit f4"></div>
          <div class="finger-8bit thumb"></div>
        </div>
      </div>

      <!-- Damage flash -->
      <div class="damage-flash" id="damage-flash"></div>

      <!-- Modal -->
      <div id="minigame-modal">
        <h3>GOLDEN BANANA!</h3>
        <p>RIDDLE: WHAT CAN YOU CATCH BUT NOT THROW?</p>
        <div class="minigame-options">
          <button onclick="game.answerRiddle('A')">A: BALL</button>
          <button onclick="game.answerRiddle('B')">B: COLD</button>
          <button onclick="game.answerRiddle('C')">C: FISH</button>
          <button onclick="game.answerRiddle('D')">D: SHADOW</button>
        </div>
      </div>

      <!-- Overlay -->
      <div id="game-overlay">
        <h2 id="overlay-title"></h2>
        <button onclick="game.restart()">PLAY AGAIN</button>
      </div>
    </div>

    <!-- 8-bit HUD -->
    <div class="hud-8bit">
      <div class="hud-section-8bit">
        <div class="hud-value-8bit health" id="health-val">100</div>
        <div class="hud-label-8bit">HEALTH</div>
      </div>
      <div class="hud-section-8bit">
        <div class="hud-value-8bit bananas" id="bananas-val">0</div>
        <div class="hud-label-8bit">BANANAS</div>
      </div>
      <div class="hud-center-8bit">
        <div class="monkey-face-8bit" id="monkey-face">
          <div class="mf-ear-8bit left"><div class="mf-ear-inner-8bit"></div></div>
          <div class="mf-ear-8bit right"><div class="mf-ear-inner-8bit"></div></div>
          <div class="mf-eye-8bit left"></div>
          <div class="mf-eye-8bit right"></div>
          <div class="mf-snout-8bit"></div>
          <div class="mf-nose-8bit"></div>
          <div class="mf-mouth-8bit"></div>
        </div>
      </div>
      <div class="hud-section-8bit">
        <div class="hud-value-8bit songs" id="songs-val">0</div>
        <div class="hud-label-8bit">SONGS</div>
      </div>
      <div class="hud-section-8bit">
        <div class="hud-value-8bit golden" id="golden-val">NO</div>
        <div class="hud-label-8bit">GOLDEN</div>
      </div>
    </div>

    <!-- Text Log -->
    <div id="text-log"></div>

    <!-- Controls -->
    <div class="controls-8bit">
      <button onclick="game.swing('left')">SWING LEFT</button>
      <button onclick="game.swing('straight')">FORWARD</button>
      <button onclick="game.swing('right')">SWING RIGHT</button>
      <button id="climb-btn" onclick="game.swing('up')" style="display:none;">CLIMB UP</button>
      <button class="quit-btn" onclick="game.quit()">QUIT</button>
    </div>

    <a href="index.html" class="back-link">< BACK TO HOME</a>
  </div>

  <script>
    class Game {
      constructor() {
        this.init();
        this.setupKeyboard();
      }

      init() {
        this.health = 100;
        this.bananas = 0;
        this.jungleSongs = 0;
        this.hasGoldenBanana = false;
        this.canClimbUp = false;
        this.gameOver = false;
        this.isAnimating = false;

        this.events = [
          ...Array(6).fill(['snake', 'banana_tree', 'muddy_pit', 'banana_stash', 'nothing']).flat(),
          ...Array(3).fill('meet_friend'),
          'golden_banana'
        ];

        this.updateUI();
        this.hideAllEvents();
        this.log("SWINGER MONKEY");
        this.log("GET 69 BANANAS + GOLDEN BANANA TO WIN!");
      }

      setupKeyboard() {
        document.addEventListener('keydown', (e) => {
          if (this.gameOver || this.isAnimating) return;
          const key = e.key.toLowerCase();
          if (key === 'a' || key === 'arrowleft') this.swing('left');
          else if (key === 'w' || key === 'arrowup') this.swing('straight');
          else if (key === 'd' || key === 'arrowright') this.swing('right');
          else if (key === 'u' && this.canClimbUp) this.swing('up');
          else if (key === 'q' || key === 'escape') this.quit();
        });
      }

      log(text) {
        const logEl = document.getElementById('text-log');
        logEl.innerHTML += `<div>> ${text}</div>`;
        logEl.scrollTop = logEl.scrollHeight;
      }

      updateUI() {
        document.getElementById('health-val').textContent = this.health;
        document.getElementById('bananas-val').textContent = this.bananas;
        document.getElementById('songs-val').textContent = this.jungleSongs;
        const goldenEl = document.getElementById('golden-val');
        goldenEl.textContent = this.hasGoldenBanana ? 'YES' : 'NO';
        goldenEl.className = 'hud-value-8bit golden' + (this.hasGoldenBanana ? ' yes' : '');
        document.getElementById('climb-btn').style.display = this.canClimbUp ? 'block' : 'none';
      }

      hideAllEvents() {
        document.querySelectorAll('.event-8bit').forEach(el => el.classList.remove('visible'));
      }

      showEvent(eventId) {
        this.hideAllEvents();
        const el = document.getElementById(eventId);
        if (el) el.classList.add('visible');
      }

      animateSwing(direction) {
        return new Promise(resolve => {
          this.isAnimating = true;

          const leftHand = document.getElementById('hand-left');
          const rightHand = document.getElementById('hand-right');
          const trees = ['tree-l1', 'tree-l2', 'tree-r1', 'tree-r2'].map(id => document.getElementById(id));
          const vines = ['vine1', 'vine2', 'vine3', 'vine4', 'vine5'].map(id => document.getElementById(id));

          // Reset
          leftHand.classList.remove('swing-left', 'swing-right', 'swing-forward');
          rightHand.classList.remove('swing-left', 'swing-right', 'swing-forward');
          trees.forEach(t => t.classList.remove('moving'));
          vines.forEach(v => v.classList.remove('swing'));

          void leftHand.offsetWidth;

          // Apply animations
          if (direction === 'left') {
            leftHand.classList.add('swing-left');
          } else if (direction === 'right') {
            rightHand.classList.add('swing-right');
          } else {
            leftHand.classList.add('swing-forward');
            rightHand.classList.add('swing-forward');
          }

          trees.forEach(t => t.classList.add('moving'));
          vines.forEach(v => v.classList.add('swing'));

          setTimeout(() => {
            this.isAnimating = false;
            resolve();
          }, 500);
        });
      }

      showDamage() {
        const flash = document.getElementById('damage-flash');
        const viewport = document.getElementById('viewport');
        const face = document.getElementById('monkey-face');

        flash.classList.remove('active');
        viewport.classList.remove('shake');
        face.classList.remove('hurt');

        void flash.offsetWidth;

        flash.classList.add('active');
        viewport.classList.add('shake');
        face.classList.add('hurt');

        setTimeout(() => {
          face.classList.remove('hurt');
        }, 400);
      }

      async swing(direction) {
        if (this.gameOver || this.isAnimating) return;

        this.canClimbUp = false;
        this.updateUI();

        await this.animateSwing(direction);

        const dirText = direction === 'straight' ? 'FORWARD' : direction.toUpperCase();
        this.log(`SWING ${dirText}...`);

        const event = this.events[Math.floor(Math.random() * this.events.length)];

        switch(event) {
          case 'snake':
            this.showEvent('snake-8bit');
            if (this.jungleSongs > 0) {
              this.jungleSongs--;
              this.log("SNAKE! SONG SCARES IT!");
            } else {
              const damage = Math.floor(Math.random() * 16) + 10;
              this.health -= damage;
              this.showDamage();
              this.log(`SNAKE BITE! -${damage} HP!`);
            }
            break;

          case 'banana_tree':
            this.showEvent('banana-8bit');
            const reward = Math.floor(Math.random() * 5) + 1;
            this.bananas += reward;
            this.log(`BANANA TREE! +${reward} BANANAS!`);
            break;

          case 'banana_stash':
            this.showEvent('banana-8bit');
            const stash = Math.floor(Math.random() * 11) + 5;
            this.bananas += stash;
            this.log(`SECRET STASH! +${stash} BANANAS!`);
            break;

          case 'muddy_pit':
            this.showEvent('pit-8bit');
            const pitDmg = Math.floor(Math.random() * 11) + 5;
            this.health -= pitDmg;
            this.showDamage();
            this.log(`MUD PIT! -${pitDmg} HP!`);
            break;

          case 'golden_banana':
            if (!this.hasGoldenBanana) {
              this.showEvent('golden-8bit');
              this.log("GOLDEN BANANA! ANSWER RIDDLE!");
              document.getElementById('minigame-modal').style.display = 'block';
              return;
            } else {
              this.log("SWINGING DEEPER...");
            }
            break;

          case 'meet_friend':
            const friends = ['kaa', 'baloo', 'wolves'];
            const friend = friends[Math.floor(Math.random() * friends.length)];

            if (friend === 'kaa') {
              this.showEvent('kaa-8bit');
              this.log("KAA! LEARN TO CLIMB!");
              this.canClimbUp = true;
            } else if (friend === 'baloo') {
              this.showEvent('baloo-8bit');
              this.jungleSongs++;
              this.log("BALOO! +1 SONG!");
            } else {
              this.showEvent('wolves-8bit');
              this.health = Math.min(100, this.health + 15);
              this.log("WOLVES! +15 HP!");
            }
            break;

          default:
            this.hideAllEvents();
            this.log("JUNGLE CONTINUES...");
        }

        this.updateUI();
        this.checkGameState();
      }

      answerRiddle(answer) {
        document.getElementById('minigame-modal').style.display = 'none';

        if (answer === 'B') {
          this.hasGoldenBanana = true;
          this.bananas += 20;
          this.log("CORRECT! +GOLDEN +20 BANANAS!");
        } else {
          this.log("WRONG! GOLDEN VANISHES...");
        }

        this.hideAllEvents();
        this.updateUI();
        this.checkGameState();
      }

      checkGameState() {
        if (this.health <= 0) {
          this.gameOver = true;
          const overlay = document.getElementById('game-overlay');
          overlay.className = 'defeat';
          overlay.style.display = 'flex';
          document.getElementById('overlay-title').textContent = 'GAME OVER';
          this.log("YOU DIED!");
        } else if (this.bananas >= 69 && this.hasGoldenBanana) {
          this.gameOver = true;
          const overlay = document.getElementById('game-overlay');
          overlay.className = 'victory';
          overlay.style.display = 'flex';
          document.getElementById('overlay-title').textContent = 'YOU WIN!';
          this.log("JUNGLE SAVED!");
        }
      }

      quit() {
        if (confirm('QUIT GAME?')) {
          window.location.href = 'index.html';
        }
      }

      restart() {
        document.getElementById('game-overlay').style.display = 'none';
        document.getElementById('text-log').innerHTML = '';
        this.init();
      }
    }

    const game = new Game();
  </script>
</body>
</html>
